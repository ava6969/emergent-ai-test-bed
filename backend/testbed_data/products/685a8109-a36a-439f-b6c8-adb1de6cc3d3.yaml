created_at: '2025-11-09T05:58:16.118128+00:00'
description: Epoch is a Quant Copilot for Institutional Traders; Platform currently
  only serves long/short US Equity traders. With support for fundamental and MacroEconomics
  Data as well.
documents:
- content: '---


    title: Runtime Architecture

    description: How Epoch executes strategies and research studies

    icon: Cpu

    ---------


    # Runtime Architecture


    The runtime parses your EpochScript into an execution plan and runs it against
    historical data.


    ## EpochScript Execution


    When you submit a query, the runtime:


    1. Parses your EpochScript into a data transformation graph

    2. Creates an execution plan for your indicators and signals

    3. Executes your logic on-demand during backtesting or research

    4. Evaluates transforms for each timestamp and asset


    **No compilation required** - your strategy executes directly on the runtime engine.


    ## Sequential Execution


    The runtime processes time steps sequentially, never in parallel.


    ## 6-Phase Pipeline


    Each time step executes through six phases in order:


    1. **Process Fills** - Detect fills from previous tick

    2. **Handle Rollovers** - Roll expiring futures contracts

    3. **Execute Signals** - Generate long/short/close signals

    4. **Sync Positions** - Reconcile signals vs positions

    5. **Exit Management** - Update stop-loss/take-profit orders

    6. **Place Orders** - Queue orders for next tick


    ## Data Management


    The runtime fetches data once and streams only what your strategy needs.


    **How it works:**


    - Download source data from data provider

    - Cache locally for reuse

    - Resample to target timeframe (daily, hourly, etc.)

    - Stream data sequentially during execution


    **What gets cached:**


    - **Raw market data** - Source data from provider

    - **Resampled data** - Daily, hourly bars computed from raw data

    - **Execution plans** - Parsed strategy logic (rebuilt when code changes)


    ## Trade Simulation


    Orders placed in tick N fill in tick N+1 (prevents look-ahead). Slippage applied
    per asset with configurable models.


    ### Order Types


    ## Dual Scheduling


    The runtime separates when to evaluate signals from when to rebalance positions.


    **How it works:**


    - Strategy evaluates signals on one schedule (e.g., daily)

    - Position sizes rebalance on a different schedule (e.g., monthly)

    - Signal changes trigger trades (enter/exit assets)

    - Rebalancing adjusts sizes of existing positions


    ## Performance Characteristics


    Execution speed depends on strategy type:


    | Strategy Type | Time Steps | Notes |

    |---------------|------------|-------|

    | **Daily** | Fewer bars | Fast iteration |

    | **Intraday** | More bars | Captures intraday opportunities |

    | **Multi-Timeframe** | Depends on primary | Multiple timeframes pre-calculated
    |

    | **Cross-Sectional** | Multiplied by assets | Enables diversification |

    | **Futures** | Same as base timeframe | Automatic rollover handling |

    '
  filename: public_documentation/architecture.md
- content: "---\n\ntitle: Alternative Data\ndescription: Institutional holdings, insider\
    \ trading, short interest, news\n--------------------------------------------------------------------------\n\
    \n# Alternative Data\n\nSmart money signals - institutional holdings (13F), insider\
    \ transactions, short interest, and financial news. Track positioning and sentiment.\n\
    \n---\n\n## Datasets\n\n| Dataset | Update Frequency | Coverage | Key Features\
    \ |\n|---------|------------------|----------|--------------|\n| **Institutional\
    \ Holdings (13F)** | Quarterly (45-day filing lag) | 10+ years | Quarterly filings\
    \ from $100M+ managers. Track elite fund positions. |\n| **Insider Trading** |\
    \ Event-driven (2-day lag) | 20+ years | Officer, director, and major shareholder\
    \ transactions. Sentiment signals. |\n| **Short Interest** | Daily and bi-weekly\
    \ | Multi-year | Daily short volume and bi-weekly settlement data. Crowding detection.\
    \ |\n| **Financial News** | Real-time | Multi-year | Corporate news and press\
    \ releases. Event detection and sentiment. |\n\n---\n\n## Overview\n\n| Dataset\
    \ | Update Frequency | Coverage | Primary Use |\n|---------|------------------|----------|-------------|\n\
    | **Institutional Holdings (13F)** | Quarterly | $100M+ AUM managers | Smart money\
    \ tracking, ownership analysis |\n| **Insider Trading** | Event-driven (2-day\
    \ lag) | All public companies | Sentiment signals, insider confidence |\n| **Short\
    \ Interest** | Daily / Bi-weekly | U.S. stocks | Crowding detection, squeeze potential\
    \ |\n| **Financial News** | Real-time | Major companies | Sentiment analysis,\
    \ event detection |\n\n**Coverage**: U.S. publicly traded securities\n\n**History**:\
    \ 10-20+ years depending on dataset\n\n---\n\n## Designed for Realistic Backtesting\n\
    \n---\n\n## Institutional Holdings (Form 13F)\n\n**What It Is**: Quarterly disclosure\
    \ of equity holdings by institutional investment managers with over $100 million\
    \ in assets under management. This includes hedge funds, mutual funds, pension\
    \ funds, and other large investors.\n\n### Regulatory Background\n\n- **Required\
    \ by**: Securities and Exchange Commission (SEC)\n- **Filing deadline**: 45 days\
    \ after quarter end\n- **Who must file**: Institutions managing $100M+ in \"13F\
    \ securities\" (stocks, options, convertible bonds)\n- **What's disclosed**: Long\
    \ positions only (shorts not reported)\n\n### Key Fields\n\n| Field | Description\
    \ |\n|-------|-------------|\n| **filed\\_at** | Date the 13F was filed (**use\
    \ this for backtesting**) |\n| **period\\_of\\_report** | Quarter end date (3/31,\
    \ 6/30, 9/30, 12/31) |\n| **cik** | Central Index Key - unique identifier for\
    \ institution |\n| **institution\\_name** | Name of the filing institution |\n\
    | **ticker** | Stock ticker symbol |\n| **cusip** | Security identifier (9-character)\
    \ |\n| **company\\_name** | Name of the company held |\n| **shares** | Number\
    \ of shares held |\n| **value** | Market value of position in dollars |\n| **investment\\\
    _discretion** | SOLE, SHARED, or OTHER |\n\n### Data Characteristics\n\n**Update\
    \ Frequency**: Quarterly\n\n**Filing Lag**: 45 days after quarter end (e.g., Q1\
    \ data filed by mid-May)\n\n**History**: 10+ years of filings\n\n**Coverage**:\n\
    \n- Thousands of institutional managers\n- All U.S. listed equities held by these\
    \ institutions\n\n### Notable Institutions (by CIK)\n\n| Institution | CIK | Type\
    \ |\n|------------|-----|------|\n| **Berkshire Hathaway** | 1067983 | Conglomerate\
    \ / Value investor |\n| **Citadel Advisors** | 1324404 | Multi-strategy hedge\
    \ fund |\n| **Tiger Global Management** | 1649339 | Growth-focused hedge fund\
    \ |\n| **Renaissance Technologies** | 1037389 | Quantitative hedge fund |\n| **Bridgewater\
    \ Associates** | 1350694 | Macro hedge fund |\n\n### Use Cases\n\n- **Smart Money\
    \ Tracking**: Monitor elite fund holdings, identify new positions before widespread\
    \ knowledge\n- **Crowding Analysis**: Detect concentrated ownership, identify\
    \ \"hedge fund hotels\" at risk of unwinding\n- **Ownership Changes**: Track quarter-over-quarter\
    \ changes (new positions, exits, additions vs. distributions)\n- **Conviction\
    \ Analysis**: Identify largest positions (>10% of portfolio) as high-conviction\
    \ bets\n- **Screening**: Find stocks bought by 10+ top funds, detect smart money\
    \ divergence from retail\n\n### Query Patterns\n\n- **By Ticker**: View all institutions\
    \ holding a stock, calculate total ownership, track changes over time\n- **By\
    \ Institution (CIK)**: View complete portfolio, compare quarter-over-quarter,\
    \ identify new positions and exits\n- **Large Positions**: Query positions >10%\
    \ of portfolio or >$1B in size (conviction bets)\n\n### Important Considerations\n\
    \n**Longs Only**:\n\n- 13F only reports long positions\n- Short positions are\
    \ not disclosed\n- May overstate net positioning for hedge funds\n\n**Delayed\
    \ Information**:\n\n- Up to 45-day lag between quarter end and filing\n- Institutions\
    \ may have already changed positions\n- Best used for medium-term trends, not\
    \ day-trading\n\n**Aggregated Holdings**:\n\n- Multiple accounts of same manager\
    \ aggregated\n- Can't distinguish between different strategies\n- Represents firm-wide\
    \ positioning\n\n---\n\n## Insider Trading\n\n**What It Is**: Transactions in\
    \ company stock by corporate insiders - officers, directors, and beneficial owners\
    \ (10%+ shareholders). Filed with SEC via Forms 3, 4, 5, and 144.\n\n### Regulatory\
    \ Background\n\n- **Required by**: Securities and Exchange Commission (SEC)\n\
    - **Form 4 deadline**: 2 business days after transaction\n- **Who must file**:\
    \ Officers, directors, 10%+ shareholders\n- **Transactions covered**: Purchases,\
    \ sales, option exercises, grants, awards\n\n### Key Fields\n\n| Field | Description\
    \ |\n|-------|-------------|\n| **filed\\_at** | When filing was submitted (index)\
    \ |\n| **transaction\\_date** | When the trade actually occurred |\n| **ticker**\
    \ | Stock ticker symbol |\n| **company\\_name** | Company name |\n| **insider\\\
    _name** | Name of insider (officer/director) |\n| **insider\\_title** | Position\
    \ (CEO, CFO, Director, etc.) |\n| **transaction\\_code** | Type of transaction\
    \ (P, S, A, M, etc.) |\n| **shares** | Number of shares transacted |\n| **price**\
    \ | Price per share |\n| **shares\\_owned\\_after** | Total shares owned after\
    \ transaction |\n| **ownership\\_type** | Direct or indirect ownership |\n\n###\
    \ Transaction Codes\n\n| Code | Meaning | Interpretation |\n|------|---------|----------------|\n\
    | **P** | Open market purchase | **Bullish signal** - insider buying with own\
    \ money |\n| **S** | Open market sale | Neutral/bearish - could be diversification\
    \ |\n| **A** | Award/grant | Compensation - not meaningful signal |\n| **M** |\
    \ Exercise of options | Neutral - converting options to stock |\n| **G** | Gift\
    \ | Neutral - charitable/estate planning |\n| **J** | Other acquisition | Various\
    \ - check details |\n| **F** | Tax withholding | Neutral - automatic tax payment\
    \ |\n\n### Data Characteristics\n\n**Update Frequency**: Event-driven\n\n**Filing\
    \ Lag**: 2 business days (Form 4)\n\n**History**: 20+ years of insider transactions\n\
    \n**Coverage**: All U.S. public companies\n\n### Use Cases\n\n- **Bullish Signals**:\
    \ Multiple insiders buying (especially CEO/CFO), cluster buying (3+ in 30 days),\
    \ purchases near 52-week lows\n- **Red Flags**: Heavy executive selling, multiple\
    \ simultaneous sellers, sales near all-time highs\n- **Signal Development**: Weight\
    \ by purchase size, insider role, and timing; combine with price action for confirmation\n\
    - **Research**: Analyze insider return predictability, sector differences, compare\
    \ to institutional flows\n\n### Interpretation Guidelines\n\n| Factor | Interpretation\
    \ |\n|--------|----------------|\n| **Buying > Selling** | Insiders buy for one\
    \ reason (expect gains); sell for many (diversification, taxes, etc.) |\n| **Size\
    \ Matters** | Compare to compensation and holdings ($10k by $5M CEO = noise; $1M\
    \ = meaningful) |\n| **Timing Context** | Buying after bad news or at multi-year\
    \ lows = strong confidence; selling at highs = less concerning |\n| **Position\
    \ Matters** | CEO/CFO = best informed; Directors = outside perspective; 10%+ owners\
    \ = different motivations |\n\n---\n\n## Short Interest\n\n**What It Is**: Data\
    \ on short selling activity, showing how many shares are sold short and the volume\
    \ of short selling.\n\n### Two Types of Short Data\n\n1. **Short Volume** (Daily)\n\
    2. **Short Interest** (Bi-weekly settlements)\n\n---\n\n### Short Volume (Daily)\n\
    \n**What It Is**: Daily volume of shares sold short across different exchanges.\n\
    \n#### Key Fields\n\n| Field | Description |\n|-------|-------------|\n| **date**\
    \ | Trading date |\n| **ticker** | Stock ticker symbol |\n| **total\\_volume**\
    \ | Total shares traded |\n| **short\\_volume** | Shares sold short |\n| **short\\\
    _volume\\_ratio** | Short volume / total volume (%) |\n| **market\\_volume** |\
    \ Volume by exchange (NYSE, NASDAQ, etc.) |\n\n#### Data Characteristics\n\n**Update\
    \ Frequency**: Daily (published next day)\n\n**Coverage**: All U.S. listed stocks\n\
    \n**History**: Multi-year daily data\n\n#### Use Cases\n\n- **Short-Term Sentiment**:\
    \ Track daily shorting intensity (>50% = heavy pressure), compare to historical\
    \ averages\n- **Relative Analysis**: Compare to stock's typical ratio, identify\
    \ most-shorted stocks by sector\n- **Research Analysis**: Study extreme short\
    \ volume patterns (contrarian signals), analyze persistently high levels, combine\
    \ with price action\n\n---\n\n### Short Interest (Bi-weekly)\n\n**What It Is**:\
    \ Settlement-based count of total shares sold short, reported twice monthly.\n\
    \n#### Key Fields\n\n| Field | Description |\n|-------|-------------|\n| **settlement\\\
    _date** | Reporting date (twice monthly) |\n| **ticker** | Stock ticker symbol\
    \ |\n| **short\\_interest** | Total shares sold short |\n| **shares\\_outstanding**\
    \ | Total shares outstanding |\n| **average\\_daily\\_volume** | Recent average\
    \ volume |\n| **days\\_to\\_cover** | Short interest / avg volume |\n\n#### Data\
    \ Characteristics\n\n**Update Frequency**: Twice monthly (mid-month and month-end)\n\
    \n**Coverage**: All U.S. listed stocks\n\n**History**: Multi-year settlement data\n\
    \n**Publication Lag**: ~1 week after settlement date\n\n#### Use Cases\n\n- **Squeeze\
    \ Potential**: Days to cover >10 + short interest >20% + catalyst = high squeeze\
    \ risk\n- **Crowding Indicator**: Extreme short interest signals crowded trade\
    \ at risk of violent reversal\n- **Sentiment Gauge**: Rising = growing bearishness;\
    \ falling = covering (potential bottom)\n- **Position Management**: Avoid heavily\
    \ shorted for longs unless contrarian; track changes (adding vs. covering)\n\n\
    #### Key Metrics\n\n**Short Interest Ratio** (Days to Cover):\n\n```\nDays to\
    \ Cover = Short Interest / Average Daily Volume\n```\n\n- \\< 3 days: Low short\
    \ interest\n- 3-7 days: Moderate\n- 7-10 days: High\n- > 10 days: Extreme (squeeze\
    \ risk)\n\n**Short % of Float**:\n\n```\nShort % = Short Interest / Shares Outstanding\
    \ \xD7 100%\n```\n\n- \\< 5%: Low\n- 5-10%: Moderate\n- 10-20%: High\n- > 20%:\
    \ Extreme\n\n---\n\n## Financial News\n\n**What It Is**: Corporate news articles\
    \ and press releases with metadata for systematic analysis.\n\n### Key Fields\n\
    \n| Field | Description |\n|-------|-------------|\n| **published\\_at** | Publication\
    \ timestamp |\n| **title** | Headline |\n| **description** | Summary/snippet |\n\
    | **content** | Full article text |\n| **author** | Article author |\n| **publisher**\
    \ | News source |\n| **tickers** | Related stock tickers |\n| **url** | Article\
    \ URL |\n\n### Data Characteristics\n\n**Update Frequency**: Real-time\n\n**Coverage**:\
    \ Major U.S. companies and markets\n\n**History**: Multi-year news archive\n\n\
    **Sources**: Major financial news publishers\n\n### Use Cases\n\n- **Event Detection**:\
    \ Identify earnings, M\\&A, product launches, regulatory actions, management changes\n\
    - **Sentiment Analysis**: Extract sentiment via NLP, track changes over time,\
    \ compare to price action\n- **Thematic Research**: Search keywords (AI, renewable\
    \ energy), track narrative trends, identify emerging themes\n- **Analysis & Research**:\
    \ Study news surprises, analyze market overreactions, detect information leakage\
    \ (price moves before news)\n\n### Processing News Data\n\n- **Structured Metadata**:\
    \ Timestamp for event studies, ticker linking, publisher quality filtering\n-\
    \ **Text Analysis**: Sentiment extraction, entity recognition, topic classification\
    \ (earnings, M\\&A, legal)\n- **Signal Generation**: News surprise, volume spikes,\
    \ sentiment shifts, cross-asset impact\n\n---\n\n## Data Quality & Timing\n\n\
    ### 13F Holdings\n\n**Timing**: Use `filed_at` date, not `period_of_report`\n\n\
    - Avoids look-ahead bias\n- Reflects when information became public\n- 45-day\
    \ lag is material (positions may have changed)\n\n**Completeness**: Only long\
    \ positions, no shorts\n\n**Accuracy**: Self-reported by institutions, audited\
    \ by SEC\n\n### Insider Trading\n\n**Timing**: 2-day filing deadline mostly adhered\
    \ to\n\n- Occasionally late filings\n- Use `filed_at` for data availability date\n\
    - `transaction_date` for actual trade\n\n**Interpretation**: Context crucial\n\
    \n- Not all selling is bearish\n- Cluster analysis more reliable than single trades\n\
    \n### Short Interest\n\n**Settlement-Based**: Snapshot in time, not continuous\n\
    \n- Twice monthly = significant lag\n- Positions change between reports\n- Use\
    \ for trends, not precise timing\n\n**Daily Volume**: More timely but noisy\n\n\
    - Daily fluctuations normal\n- Look at moving averages\n- Combine with settlement\
    \ data\n\n### News\n\n**Timeliness**: Real-time, but processing takes time\n\n\
    - Sentiment analysis requires NLP\n- Human reading for nuance\n- Automated extraction\
    \ for scale\n\n**Quality**: Varies by source\n\n- Major publishers more reliable\n\
    - Press releases vs. journalism\n- Verify with multiple sources\n\n---\n\n## Integration\
    \ with Other Datasets\n\n### + Market Data\n\n- Study price reaction to insider\
    \ buys\n- Analyze short squeeze dynamics (short interest + price spike)\n- Overlay\
    \ 13F filing dates with price trends\n- News-driven price moves\n\n### + Corporate\
    \ Data\n\n- Compare insider buying to fundamentals (buying undervalued stocks?)\n\
    - 13F institutions prefer high-quality fundamentals\n- Short interest highest\
    \ for deteriorating fundamentals\n- News about earnings, dividends, financial\
    \ health\n\n### + Economic Data\n\n- Institutional flows during different macro\
    \ regimes\n- Insider buying increases near economic bottoms\n- Short interest\
    \ patterns in recessions vs. expansions\n- News sentiment correlation with VIX,\
    \ market stress\n\n---\n\n## Best Practices\n\n**13F Analysis**: Use `filed_at`\
    \ (avoid look-ahead bias), focus on changes vs. continuations, track proven investors,\
    \ account for 45-day lag\n\n**Insider Trading**: Prioritize purchases over sales,\
    \ require meaningful size relative to compensation, look for clusters (3+ insiders),\
    \ CEO/CFO most informed\n\n**Short Interest**: High interest + catalyst = squeeze\
    \ opportunity, track trends not just levels, combine daily volume with settlement\
    \ data\n\n**News**: Focus on reputable publishers, validate NLP sentiment (spot\
    \ check), prioritize unique information over rehashed content\n\n---\n\n## Next\
    \ Steps\n\n- [Market Data](/docs/market-data) - Combine alternative data signals\
    \ with price confirmation\n- [Corporate Data](/docs/corporate-data) - Validate\
    \ alternative data with fundamental quality\n- [Economic Data](/docs/economic-data)\
    \ - Understand macro context for positioning data\n"
  filename: public_documentation/datasets/alternative-data.md
- content: "---\n\ntitle: Corporate Data\ndescription: Financial statements, dividends,\
    \ splits, and IPO data\n------------------------------------------------------------------\n\
    \n# Corporate Data\n\nFundamental company data - financial statements, dividends,\
    \ splits, and IPO information. Indexed by filing dates for research accuracy.\n\
    \n---\n\n## Datasets\n\n| Dataset | Update Frequency | Coverage | Key Features\
    \ |\n|---------|------------------|----------|--------------|\n| **Financial Statements**\
    \ | Quarterly (10-Q), Annual (10-K) | 10+ years | Income statement, balance sheet,\
    \ cash flow |\n| **Dividends** | Event-driven | 10+ years | Cash and stock distributions\
    \ for total return calculations |\n| **Stock Splits** | Event-driven | Complete\
    \ history | Forward and reverse splits for price adjustment |\n| **IPO Data**\
    \ | Event-driven | 10+ years | New listings, pricing, offering details |\n\n---\n\
    \n## Overview\n\n| Dataset | Update Frequency | Coverage | Primary Use |\n|---------|------------------|----------|-------------|\n\
    | **Financial Statements** | Quarterly | U.S. public companies | Fundamental analysis,\
    \ screening |\n| **Dividends** | Event-driven | U.S. stocks | Income analysis,\
    \ total return calculations |\n| **Stock Splits** | Event-driven | U.S. stocks\
    \ | Price adjustment, corporate action analysis |\n| **IPO Data** | Event-driven\
    \ | New listings | IPO research, calendar tracking |\n\n**Coverage**: All U.S.\
    \ publicly traded companies\n\n**History**: 10+ years for most datasets\n\n---\n\
    \n## Designed for Realistic Backtesting\n\n---\n\n## Financial Statements\n\n\
    ### What They Are\n\nQuarterly and annual financial reports filed with the SEC\
    \ by public companies, providing detailed information about a company's financial\
    \ condition and performance.\n\n**Three Statement Types**:\n\n1. **Income Statement**\
    \ - Revenue, expenses, profitability\n2. **Balance Sheet** - Assets, liabilities,\
    \ equity\n3. **Cash Flow Statement** - Operating, investing, and financing cash\
    \ flows\n\n**Update Frequency**: Quarterly (10-Q) and Annual (10-K)\n\n**Reporting\
    \ Deadlines**:\n\n- Large companies: 40 days after quarter end\n- Smaller companies:\
    \ 45 days after quarter end\n\n**History**: 10+ years of quarterly and annual\
    \ data\n\n---\n\n## Income Statement\n\n**What It Is**: Shows a company's revenue,\
    \ expenses, and profit over a specific period (quarter or year).\n\n### Key Fields\n\
    \n| Field | Description |\n|-------|-------------|\n| **fiscal\\_year** | Fiscal\
    \ year of report |\n| **fiscal\\_quarter** | Quarter (1-4) or blank for annual\
    \ |\n| **filing\\_date** | When the report was filed with SEC |\n| **period\\\
    _end** | Last date of reporting period |\n| **revenue** | Total sales (top line)\
    \ |\n| **cost\\_of\\_revenue** | Direct costs of producing goods/services |\n\
    | **gross\\_profit** | Revenue minus cost of revenue |\n| **operating\\_expenses**\
    \ | R\\&D, sales/marketing, general/administrative |\n| **operating\\_income**\
    \ | Profit from core operations (EBIT) |\n| **net\\_income** | Bottom line profit\
    \ after all expenses and taxes |\n| **basic\\_eps** | Earnings per share (basic)\
    \ |\n| **diluted\\_eps** | Earnings per share (fully diluted) |\n| **shares\\\
    _outstanding** | Average shares outstanding during period |\n\n### Additional\
    \ Metrics Available\n\n- **Research & Development (R\\&D)** - Innovation spending\n\
    - **Selling, General & Administrative (SG\\&A)** - Operating overhead\n- **EBITDA**\
    \ - Earnings before interest, taxes, depreciation, amortization\n- **Interest\
    \ Expense** - Debt servicing costs\n- **Tax Expense** - Income taxes paid\n\n\
    ### Use Cases\n\n- **Profitability Analysis**: Compare gross/operating margins\
    \ across competitors, track trends over time\n- **Growth Screening**: Find accelerating\
    \ revenue/earnings growth, compare growth rates to valuations\n- **Quality Assessment**:\
    \ Analyze R\\&D intensity, operating leverage, earnings consistency\n- **Valuation**:\
    \ Calculate P/E ratios, build DCF models, compare earnings yields\n\n---\n\n##\
    \ Balance Sheet\n\n**What It Is**: Snapshot of a company's financial position\
    \ at a specific point in time, showing what it owns (assets), owes (liabilities),\
    \ and net worth (equity).\n\n### Key Fields - Assets\n\n| Field | Description\
    \ |\n|-------|-------------|\n| **cash\\_and\\_equivalents** | Most liquid assets\
    \ |\n| **short\\_term\\_investments** | Marketable securities |\n| **accounts\\\
    _receivable** | Money owed by customers |\n| **inventory** | Unsold products and\
    \ materials |\n| **current\\_assets** | Assets convertible to cash within 1 year\
    \ |\n| **property\\_plant\\_equipment** | Physical assets (net of depreciation)\
    \ |\n| **goodwill** | Value from acquisitions |\n| **intangible\\_assets** | Patents,\
    \ trademarks, intellectual property |\n| **total\\_assets** | Sum of all assets\
    \ |\n\n### Key Fields - Liabilities & Equity\n\n| Field | Description |\n|-------|-------------|\n\
    | **accounts\\_payable** | Money owed to suppliers |\n| **current\\_debt** | Debt\
    \ due within 1 year |\n| **current\\_liabilities** | Obligations due within 1\
    \ year |\n| **long\\_term\\_debt** | Debt due after 1 year |\n| **total\\_liabilities**\
    \ | Sum of all obligations |\n| **common\\_stock** | Par value of issued shares\
    \ |\n| **retained\\_earnings** | Cumulative profits reinvested |\n| **total\\\
    _equity** | Assets minus liabilities (book value) |\n\n### Use Cases\n\n- **Financial\
    \ Health**: Calculate current ratio, debt-to-equity, analyze asset quality and\
    \ composition\n- **Value Investing**: Calculate P/B ratio, identify net-net opportunities\
    \ (current assets > market cap)\n- **Credit Analysis**: Evaluate leverage, liquidity,\
    \ debt maturity schedule\n- **Working Capital**: Calculate working capital, days\
    \ sales outstanding, inventory turnover\n\n---\n\n## Cash Flow Statement\n\n**What\
    \ It Is**: Shows actual cash generated and used by the company, categorized by\
    \ operating, investing, and financing activities.\n\n### Key Fields\n\n| Field\
    \ | Description |\n|-------|-------------|\n| **net\\_income** | Starting point\
    \ (from income statement) |\n| **depreciation\\_amortization** | Non-cash expenses\
    \ added back |\n| **operating\\_cash\\_flow** | Cash from core business operations\
    \ |\n| **capital\\_expenditures** | Spending on property, plant, equipment |\n\
    | **investing\\_cash\\_flow** | Cash from buying/selling assets and investments\
    \ |\n| **dividends\\_paid** | Cash returned to shareholders |\n| **debt\\_issued**\
    \ | New debt raised |\n| **debt\\_repaid** | Debt paid down |\n| **stock\\_issued**\
    \ | Cash from issuing new shares |\n| **stock\\_repurchased** | Cash used for\
    \ buybacks |\n| **financing\\_cash\\_flow** | Cash from debt, equity, and dividends\
    \ |\n| **change\\_in\\_cash** | Net change in cash position |\n\n### Use Cases\n\
    \n- **Cash Quality**: Compare operating cash flow to net income (>1 = good), track\
    \ free cash flow (OCF - capex)\n- **Capital Allocation**: Analyze spending (capex,\
    \ acquisitions), shareholder returns (dividends + buybacks), debt management\n\
    - **Financial Sustainability**: Verify operations funded by cash flow, identify\
    \ external financing reliance, track burn rate\n- **Dividend Coverage**: Ensure\
    \ OCF > dividends (sustainable), identify dividend cut risk from deteriorating\
    \ cash flow\n\n---\n\n## Dividends\n\n**What It Is**: Cash or stock distributions\
    \ paid by companies to shareholders.\n\n### Key Fields\n\n| Field | Description\
    \ |\n|-------|-------------|\n| **ex\\_dividend\\_date** | Date after which new\
    \ buyers don't get dividend |\n| **declaration\\_date** | Date dividend was announced\
    \ |\n| **record\\_date** | Date to be on record to receive dividend |\n| **pay\\\
    _date** | Date dividend is paid |\n| **cash\\_amount** | Dividend per share (in\
    \ dollars) |\n| **frequency** | Payment frequency (quarterly, annual, etc.) |\n\
    | **dividend\\_type** | CD (cash), SC (stock), LT (long-term gain), etc. |\n\n\
    ### Data Characteristics\n\n**Update Frequency**: Event-driven (as companies declare\
    \ dividends)\n\n**History**: 10+ years of dividend history\n\n**Coverage**: All\
    \ dividend-paying U.S. stocks\n\n**Important Date**: **Ex-dividend date** is critical\
    \ - buy before this date to receive the dividend.\n\n### Use Cases\n\n- **Total\
    \ Return Calculation**: Critical for backtesting - add dividends to price returns\
    \ for true performance\n- **Income Strategies**: Screen for high yields, build\
    \ dividend growth portfolios, track consistency\n- **Dividend Analysis**: Calculate\
    \ yield, track growth rates, identify cuts or increases\n- **Event Trading**:\
    \ Dividend capture strategies, study price behavior around ex-dates\n- **Risk\
    \ Assessment**: Cuts signal distress, consistent growth signals quality, compare\
    \ to FCF (coverage)\n\n---\n\n## Stock Splits\n\n**What It Is**: Corporate action\
    \ where a company divides existing shares into multiple shares, changing the number\
    \ of shares but not the total market value.\n\n### Key Fields\n\n| Field | Description\
    \ |\n|-------|-------------|\n| **execution\\_date** | Date split becomes effective\
    \ |\n| **split\\_from** | Old share count |\n| **split\\_to** | New share count\
    \ |\n| **split\\_ratio** | Ratio of new to old (e.g., 2-for-1 = 2.0) |\n\n###\
    \ Split Types\n\n**Forward Split**: Increases number of shares, reduces price\n\
    \n- Example: 2-for-1 split \u2192 $100 stock becomes $50, 1 share becomes 2\n\n\
    **Reverse Split**: Reduces number of shares, increases price\n\n- Example: 1-for-10\
    \ reverse \u2192 $1 stock becomes $10, 10 shares become 1\n\n### Data Characteristics\n\
    \n**Update Frequency**: Event-driven (as companies announce and execute splits)\n\
    \n**History**: Complete split history for all U.S. stocks\n\n**Coverage**: Both\
    \ forward and reverse splits\n\n### Use Cases\n\n- **Price Adjustment**: Must\
    \ adjust historical prices for splits to maintain continuity and prevent false\
    \ technical signals\n- **Corporate Action Tracking**: Forward splits signal confidence;\
    \ reverse splits signal distress (maintaining listing)\n- **Data Cleaning**: Verify\
    \ split adjustments applied, ensure volume adjusted proportionally\n- **Strategy\
    \ Impact**: Splits affect price filters, option contracts, and position sizing\
    \ calculations\n\n---\n\n## IPO Data\n\n**What It Is**: Information about companies\
    \ going public through Initial Public Offerings.\n\n### Key Fields\n\n| Field\
    \ | Description |\n|-------|-------------|\n| **ticker** | Stock ticker symbol\
    \ |\n| **company\\_name** | Company name |\n| **listing\\_date** | Date stock\
    \ begins trading publicly |\n| **announced\\_date** | Date IPO was announced |\n\
    | **offering\\_price** | Final IPO price per share |\n| **price\\_range\\_low**\
    \ | Initial filing price range (low) |\n| **price\\_range\\_high** | Initial filing\
    \ price range (high) |\n| **shares\\_offered** | Number of shares sold in IPO\
    \ |\n| **offering\\_value** | Total amount raised (shares \xD7 price) |\n| **ipo\\\
    _status** | Status (anticipated, priced, withdrawn) |\n\n### Data Characteristics\n\
    \n**Update Frequency**: Event-driven (as IPOs are announced and completed)\n\n\
    **Coverage**: U.S. exchange listings (NYSE, NASDAQ)\n\n**History**: IPO data going\
    \ back 10+ years\n\n### Use Cases\n\n- **IPO Research**: Track calendar, study\
    \ first-day movements, analyze pricing vs. range, identify over/under-subscribed\
    \ deals\n- **New Issue Analysis**: Compare offering sizes, track market cycles\
    \ (hot vs. cold), analyze industry clusters\n- **Portfolio Screening**: Exclude\
    \ recent IPOs (volatile, limited history), track lockup expirations\n- **Market\
    \ Sentiment**: IPO volume signals market appetite, first-day pops signal enthusiasm,\
    \ withdrawals signal weakness\n\n---\n\n## Data Quality & Timing\n\n### Filing\
    \ Delays\n\n**Financial Statements**:\n\n- Filed 40-45 days after quarter end\n\
    - Use **filing\\_date** (not period\\_end) for backtesting to avoid look-ahead\
    \ bias\n\n**Dividends**:\n\n- Declared in advance (usually weeks before ex-date)\n\
    - Use **ex\\_dividend\\_date** for total return calculations\n\n**Splits**:\n\n\
    - Announced weeks before execution\n- Use **execution\\_date** for price adjustments\n\
    \n**IPOs**:\n\n- Announced weeks/months before listing\n- Use **listing\\_date**\
    \ for trading eligibility\n\n### Data Completeness\n\n- **Large companies**: Most\
    \ complete data (better disclosure)\n- **Small companies**: Some optional fields\
    \ may be blank\n- **Historical**: Older data may have fewer fields due to changing\
    \ standards\n\n---\n\n## Integration with Other Datasets\n\n### + Market Data\n\
    \n- Calculate valuation ratios (P/E, P/B, EV/EBITDA)\n- Study price reaction to\
    \ earnings releases\n- Align earnings dates with price movements\n- Adjust prices\
    \ for dividends and splits\n\n### + Economic Data\n\n- Adjust revenues and earnings\
    \ for inflation\n- Model earnings sensitivity to GDP growth\n- Correlate margins\
    \ with input costs (commodities, labor)\n- Sector rotation based on economic cycle\n\
    \n### + Alternative Data\n\n- Cross-reference insider buying with financial metrics\n\
    - Compare fundamentals of heavily-shorted companies\n- Study institutional preference\
    \ for quality metrics\n- Validate fundamental story with smart money positioning\n\
    \n---\n\n## Best Practices\n\n**Backtesting**: Use `filing_date` (not period end),\
    \ include dividends for total returns, adjust for splits, use point-in-time data\n\
    \n**Screening**: Multiple criteria to filter false positives, relative metrics\
    \ vs. sector/industry, trend analysis over snapshots, include delisted companies\n\
    \n**Analysis**: Compare within same industry, understand accounting changes (read\
    \ footnotes), prioritize cash flow over earnings, watch metric direction\n\n###\
    \ Common Ratios\n\n**Profitability**:\n\n- Gross Margin = Gross Profit / Revenue\n\
    - Operating Margin = Operating Income / Revenue\n- Net Margin = Net Income / Revenue\n\
    - ROE = Net Income / Total Equity\n- ROA = Net Income / Total Assets\n\n**Liquidity**:\n\
    \n- Current Ratio = Current Assets / Current Liabilities\n- Quick Ratio = (Current\
    \ Assets - Inventory) / Current Liabilities\n\n**Leverage**:\n\n- Debt/Equity\
    \ = Total Liabilities / Total Equity\n- Debt/Assets = Total Liabilities / Total\
    \ Assets\n- Interest Coverage = EBIT / Interest Expense\n\n**Efficiency**:\n\n\
    - Asset Turnover = Revenue / Total Assets\n- Inventory Turnover = Cost of Revenue\
    \ / Inventory\n- Receivables Turnover = Revenue / Accounts Receivable\n\n---\n\
    \n## Next Steps\n\n- [Market Data](/docs/market-data) - Combine fundamentals with\
    \ price action\n- [Economic Data](/docs/economic-data) - Add macro context to\
    \ fundamental analysis\n- [Alternative Data](/docs/alternative-data) - Validate\
    \ fundamental story with smart money moves\n"
  filename: public_documentation/datasets/corporate-data.md
- content: '---


    title: Economic Data

    description: FRED economic indicators - inflation, rates, GDP, employment

    -------------------------------------------------------------------------


    # Economic Data


    Macro economic indicators from FRED - inflation, interest rates, GDP, employment,
    and market indicators. Up to 100+ years of history.


    ---


    ## Indicator Categories


    | Category | Example Indicators | Frequency | History | Key Use |

    |----------|-------------------|-----------|---------|---------|

    | **Inflation Metrics** | CPI, Core CPI, PCE | Monthly | 60+ years | Fed''s preferred
    inflation measures |

    | **Interest Rates** | Fed Funds, Treasury yields (3M to 30Y) | Daily | 30-60+
    years | Risk-free rates |

    | **Economic Activity** | GDP, industrial production, retail sales | Monthly to
    Quarterly | 70+ years | Growth indicators |

    | **Labor Market** | Unemployment, jobless claims, payrolls | Weekly to Monthly
    | 70+ years | Employment metrics |

    | **Market Indicators** | S\&P 500, VIX | Daily | 30-90+ years | Equity and volatility
    benchmarks |


    ---


    ## Overview


    | Category | Example Indicators | Frequency | History |

    |----------|-------------------|-----------|---------|

    | **Inflation** | CPI, Core CPI, PCE | Monthly | 60+ years |

    | **Interest Rates** | Fed Funds, Treasury Yields | Daily | 30+ years |

    | **Economic Activity** | GDP, Industrial Production | Quarterly/Monthly | 70+
    years |

    | **Labor Market** | Unemployment, Jobless Claims | Weekly/Monthly | 70+ years
    |

    | **Market Indicators** | S\&P 500, VIX | Daily | 30+ years |


    **Coverage**: United States economic and financial indicators


    **Update Schedule**: Varies by indicator (daily, weekly, monthly, quarterly)


    ---


    ## Designed for Realistic Backtesting


    ---


    ## Inflation Metrics


    ### Consumer Price Index (CPI)


    **What It Is**: Measures the average change in prices paid by urban consumers
    for a basket of goods and services.


    **Update Frequency**: Monthly (released mid-month for previous month)


    **History**: 60+ years of data


    **Key Variants**:


    - **CPI (All Items)** - Headline inflation including all categories

    - **Core CPI** - Excludes volatile food and energy prices (preferred by Fed)


    **Use Cases**: Calculate real returns, identify regime changes, build inflation
    factor models, adjust historical prices


    ### Personal Consumption Expenditures (PCE)


    **What It Is**: Measures price changes in goods and services consumed by households.
    The Federal Reserve''s preferred inflation gauge.


    **Update Frequency**: Monthly


    **History**: 60+ years


    **Key Variants**:


    - **PCE (All Items)** - Headline PCE inflation

    - **Core PCE** - Excludes food and energy (Fed''s 2% target references this)


    **Why It Matters**: The Fed uses Core PCE for monetary policy decisions, making
    it more market-relevant than CPI for anticipating rate changes.


    **Use Cases**: Predict Fed policy decisions, assess position vs. Fed''s 2% target,
    build interest rate forecasting models


    ---


    ## Interest Rates


    ### Federal Funds Rate


    **What It Is**: The interest rate at which banks lend reserves to each other overnight.
    The Fed''s primary monetary policy tool.


    **Update Frequency**: Daily (effective rate)


    **History**: 60+ years


    **Typical Range**: 0% to 6% (varies with economic conditions)


    **Use Cases**: Identify monetary policy regimes, model equity risk premiums, calculate
    funding costs, track regime changes


    ### Treasury Yields


    **What They Are**: Interest rates on U.S. government debt across different maturities.


    **Update Frequency**: Daily (market rates)


    **Available Maturities**:


    - **3-Month Treasury** - Short-term risk-free rate

    - **2-Year Treasury** - Sensitive to near-term Fed policy

    - **5-Year Treasury** - Medium-term rate

    - **10-Year Treasury** - Benchmark long-term rate

    - **30-Year Treasury** - Long-duration rate


    **History**: 30+ years for most maturities


    ### Key Fields


    | Field | Description |

    |-------|-------------|

    | **date** | Observation date |

    | **value** | Yield in percent (e.g., 4.25 = 4.25%) |


    ### Use Cases


    - **Risk-Free Rate**: Use 10-year Treasury for Sharpe ratio calculation, excess
    return benchmarks

    - **Yield Curve Analysis**: Compare 2y vs. 10y for curve shape, identify inversions,
    track term premium

    - **Factor Models**: Model portfolio sensitivity to rate changes, hedge duration
    risk

    - **Valuation**: Select appropriate maturity for discounting, calculate duration
    and convexity


    ---


    ## Economic Activity


    ### Gross Domestic Product (GDP)


    **What It Is**: Total value of all goods and services produced in the U.S. economy
    (in real, inflation-adjusted terms).


    **Update Frequency**: Quarterly (released ~1 month after quarter end)


    **History**: 70+ years


    **Units**: Billions of chained 2017 dollars


    **Growth Calculation**: Quarter-over-quarter change (annualized) is widely reported


    **Use Cases**: Identify recession vs. expansion, build business cycle indicators,
    analyze earnings growth correlation


    ### Industrial Production Index


    **What It Is**: Measures output of factories, mines, and utilities in the U.S.


    **Update Frequency**: Monthly


    **History**: 100+ years


    **Units**: Index (2017 = 100)


    **Use Cases**: Leading indicator for manufacturing, track production cycles, identify
    sector trends


    ### Retail Sales


    **What It Is**: Total receipts of retail stores, measuring consumer spending.


    **Update Frequency**: Monthly


    **History**: 30+ years


    **Units**: Millions of dollars


    **Use Cases**: Gauge consumer spending strength, identify seasonal patterns, early
    indicator of GDP (consumption ~70%)


    ---


    ## Labor Market


    ### Unemployment Rate


    **What It Is**: Percentage of labor force that is unemployed and actively seeking
    work.


    **Update Frequency**: Monthly (released first Friday of month)


    **History**: 70+ years


    **Typical Range**: 3% to 10% (varies with business cycle)


    **Use Cases**: Identify economic expansions vs. recessions, track Fed dual mandate
    metric, build economic indicators


    ### Initial Jobless Claims


    **What It Is**: Number of people filing for unemployment benefits for the first
    time (weekly).


    **Update Frequency**: Weekly (every Thursday for previous week)


    **History**: 50+ years


    **Units**: Thousands of people


    **Why It Matters**: Most timely indicator of labor market health (updated weekly
    vs. monthly jobs report).


    **Use Cases**: Early warning of labor market changes, high-frequency tracking,
    recession indicator (spikes signal weakness)


    ### Nonfarm Payrolls


    **What It Is**: Total number of paid U.S. workers excluding farm, government,
    and non-profit employees.


    **Update Frequency**: Monthly (released first Friday of month, same time as unemployment)


    **History**: 80+ years


    **Units**: Thousands of employees


    **Use Cases**: Track job growth trends, market-moving indicator (monthly release),
    gauge labor market tightness


    ---


    ## Market Indicators


    ### S\&P 500 Index


    **What It Is**: Market-cap-weighted index of 500 large-cap U.S. stocks.


    **Update Frequency**: Daily (closing value)


    **History**: 90+ years (dating back to 1920s)


    **Use Cases**: Benchmark for U.S. equity performance, calculate beta, track broad
    market trends


    ### VIX (Volatility Index)


    **What It Is**: Implied volatility of S\&P 500 options, measuring expected market
    volatility over next 30 days.


    **Update Frequency**: Daily


    **History**: 30+ years


    **Typical Range**: 10 to 80 (higher = more fear/uncertainty)


    **Interpretation**:


    - **Low VIX (10-15)**: Complacency, low expected volatility

    - **Normal VIX (15-20)**: Average market conditions

    - **High VIX (20-30)**: Elevated uncertainty

    - **Extreme VIX (30+)**: Market stress, panic


    **Use Cases**: Risk regime identification, position sizing input, contrarian indicator
    (extreme levels), volatility factor


    ---


    ## Consumer & Housing


    ### Consumer Sentiment


    **What It Is**: University of Michigan Consumer Sentiment Index, measuring consumer
    confidence.


    **Update Frequency**: Monthly (preliminary and final releases)


    **History**: 70+ years


    **Units**: Index (1966 = 100)


    **Use Cases**: Consumer spending indicator, early signal of economic turning points,
    sentiment factor


    ### Housing Starts


    **What It Is**: Number of new residential construction projects begun during the
    month.


    **Update Frequency**: Monthly


    **History**: 60+ years


    **Units**: Thousands of housing units (annualized)


    **Use Cases**: Leading economic indicator (housing cyclicality), gauge residential
    real estate market, construction sector signal


    ---


    ## Monetary Aggregates


    ### M2 Money Supply


    **What It Is**: Total amount of money in circulation including cash, checking
    deposits, savings deposits, and money market funds.


    **Update Frequency**: Weekly


    **History**: 60+ years


    **Units**: Billions of dollars


    **Use Cases**: Track money supply growth (inflation signal), assess liquidity
    conditions, QE/QT monitoring


    ---


    ## Data Characteristics


    ### Update Schedules


    Economic data releases follow regular schedules:


    | Indicator | Frequency | Release Timing | Market Impact |

    |-----------|-----------|----------------|---------------|

    | **Jobless Claims** | Weekly | Thursday 8:30 AM ET | Moderate |

    | **Nonfarm Payrolls** | Monthly | First Friday 8:30 AM ET | High |

    | **CPI / PCE** | Monthly | Mid-month 8:30 AM ET | High |

    | **GDP** | Quarterly | ~1 month after quarter | Moderate |

    | **Fed Funds** | Daily | Continuous | Low (already priced) |

    | **Treasury Yields** | Daily | Continuous | Moderate |


    ### Revisions


    Many economic indicators are revised after initial release:


    - **GDP**: Three releases per quarter (advance, preliminary, final)

    - **Employment**: Revised for prior 2 months each release

    - **CPI/PCE**: Minor revisions occasionally


    **Important**: For backtesting accuracy, use historical values as they were originally
    published, not revised data. This avoids look-ahead bias.


    ### Seasonal Adjustments


    Most indicators are seasonally adjusted (SA) to remove predictable seasonal patterns:


    - **Use SA data** for trend analysis and strategy signals

    - **NSA (not seasonally adjusted)** data also available for specialized analysis


    ---


    ## Common Applications


    **Risk-Free Rate**: 3-Month Treasury (daily strategies), 10-Year Treasury (monthly+
    strategies). Convert annual yield: daily = annual / 252


    **Inflation Adjustment**: Real Return = Nominal Return - Inflation Rate. Use CPI
    (consumer context) or PCE (Fed policy context)


    **Regime Identification**: Combine indicators (unemployment, GDP, inflation, VIX,
    yield curve) to classify economic/market conditions


    ---


    ## Data Quality


    FRED data represents official U.S. government statistics:


    - **Authoritative**: Data directly from Bureau of Labor Statistics, Bureau of
    Economic Analysis, Federal Reserve

    - **Reliable**: Subject to rigorous collection and calculation standards

    - **Consistent**: Long time series with documented methodologies

    - **Revised**: Initial releases may be revised as more information becomes available


    ---


    ## Best Practices


    **Data Usage**: Match frequency to strategy period, account for release delays,
    avoid look-ahead bias (use original releases not revisions)


    **Indicator Selection**: Combine multiple indicators (single indicators can give
    false signals), use both leading and coincident metrics


    **Technical**: Verify units (levels/rates/index), check seasonal adjustment status,
    document FRED series IDs for reproducibility


    ---


    ## Integration with Other Datasets


    Economic data enhances other analyses:


    **+ Market Data**:


    - Study stock returns during different inflation regimes

    - Analyze sector rotation with economic cycle

    - Backtest using risk-free rate from Treasuries


    **+ Corporate Data**:


    - Adjust earnings for inflation

    - Model revenue growth vs. GDP growth

    - Predict margin pressure from input cost inflation


    **+ Alternative Data**:


    - Compare insider buying during high vs. low VIX

    - Analyze hedge fund positioning during different regimes

    - Correlate short interest with economic uncertainty


    ---


    ## Next Steps


    - [Market Data](/docs/market-data) - Combine economic factors with price data

    - [Corporate Data](/docs/corporate-data) - Link macro conditions to fundamentals

    - [Alternative Data](/docs/alternative-data) - Understand smart money behavior
    in different economic environments

    '
  filename: public_documentation/datasets/economic-data.md
- content: '---


    title: Dataset Reference

    description: Institutional-grade financial datasets for quantitative analysis

    -----------------------------------------------------------------------------


    # Dataset Reference


    Comprehensive coverage of market, corporate, economic, and alternative data for
    quantitative research and analysis.


    ---


    ## Available Datasets


    ---


    ## Coverage Summary


    | Category | Datasets | Asset Classes | Frequencies | Historical Range |

    |----------|----------|---------------|-------------|------------------|

    | **Market Data** | OHLCV, Trades, Quotes | Stocks, Indices, Futures, Crypto,
    Forex | 1min to daily | Multi-year depth |

    | **Corporate Data** | Financials, Dividends, Splits, IPOs | U.S. Public Companies
    | Quarterly, event-driven | 10+ years |

    | **Economic Data** | Inflation, Rates, GDP, Employment | U.S. Economic Indicators
    | Daily to quarterly | Up to 100+ years |

    | **Alternative Data** | 13F, Insider, Short Interest, News | U.S. Securities
    | Real-time to quarterly | 10-20+ years |


    ---


    ## What You Can Access


    **Market Data**


    - OHLCV bars (1min to daily) for stocks, indices, futures, crypto, forex from
    2004-present

    - Individual tick trades with microsecond precision

    - Real-time quotes (NBBO) showing bid/ask spreads

    - Multi-year intraday history


    **Corporate Data**


    - Financial statements (income, balance sheet, cash flow) with 10+ years quarterly/annual
    data

    - Dividend schedules and stock splits for total return calculations

    - IPO calendars and pricing information


    **Economic Data**


    - FRED indicators: inflation (CPI, PCE), interest rates (Fed Funds, Treasury yields)

    - Economic activity: GDP, industrial production, retail sales

    - Labor market: unemployment, jobless claims, payrolls

    - Market indicators: S\&P 500, VIX with up to 100+ years history


    **Alternative Data**


    - Institutional holdings (13F) from $100M+ managers filed quarterly

    - Insider trading transactions with 2-day filing disclosure

    - Short interest data (daily volume + bi-weekly settlements)

    - Real-time financial news and press releases


    ---


    ## Asset Coverage


    - **U.S. Stocks** - All listed equities including common stocks, ETFs, and REITs
    (2004-present)

    - **Indices** - S\&P 500, Nasdaq, Dow Jones, sector and international indices

    - **Futures** - Commodities, indices, rates, and currency futures contracts

    - **Cryptocurrencies** - BTC, ETH, and other major pairs with 24/7 coverage

    - **Forex** - Major, cross, and exotic currency pairs with 24/5 coverage


    ---


    ## Data Quality & Timing


    - **Exchange-grade** market data with precise timestamps

    - **SEC filings** for corporate and alternative data

    - **Official government statistics** from FRED for economic indicators

    - **Point-in-time accuracy** - all data indexed by public availability dates (not
    event dates) to prevent lookahead bias

    - **Transparent adjustments** for corporate actions (splits, dividends)

    '
  filename: public_documentation/datasets/index.md
- content: '---


    title: Market Data

    description: Price and volume data across stocks, indices, crypto, and forex

    ----------------------------------------------------------------------------


    # Market Data


    Price and volume data foundation for quantitative research - OHLCV bars, tick
    trades, and quotes across stocks, indices, crypto, and forex.


    ---


    ## Datasets


    ---


    ## Overview


    | Dataset | Frequency | Assets | Primary Use |

    |---------|-----------|--------|-------------|

    | **OHLCV Aggregates** | Daily, Minute | Stocks, Indices, Crypto, Forex | Backtesting,
    charting |

    | **Tick Trades** | Real-time | Stocks, Crypto | Execution analysis, microstructure
    |

    | **Quotes** | Real-time | Stocks, Forex | Spread analysis, liquidity |


    **Coverage**: All U.S. listed equities, major indices (S\&P 500, Nasdaq, Dow Jones),
    cryptocurrencies, and forex pairs


    **History**: Multi-year historical data available


    ---


    ## OHLCV Aggregates


    **What It Is**: Historical price bars showing Open, High, Low, Close prices and
    Volume for a given time period.


    **Available Frequencies**:


    - **Daily bars** - End-of-day price summaries

    - **Minute bars** - Intraday price action at minute resolution


    ### Key Fields


    | Field | Description |

    |-------|-------------|

    | **timestamp** | Date/time of the bar (index) |

    | **open** | Opening price for the period |

    | **high** | Highest price during the period |

    | **low** | Lowest price during the period |

    | **close** | Closing price for the period |

    | **volume** | Number of shares/units traded |

    | **vwap** | Volume-weighted average price |

    | **transactions** | Number of individual trades in the bar |


    ### Data Characteristics


    **Update Schedule**:


    - Daily bars available after market close (~4:00 PM ET)

    - Minute bars available with minimal delay during trading hours


    **Price Adjustments**:


    - Can be adjusted for stock splits

    - Can be adjusted for dividends

    - Raw (unadjusted) data also available


    **History Depth**:


    - Multi-year history for daily data

    - Extended intraday history available (subscription dependent)


    ### Supported Assets


    **Stocks**:


    - All U.S. listed equities (NYSE, Nasdaq, AMEX)

    - Coverage includes common stocks, ETFs, and REITs

    - Historical data from 2004-present


    **Indices**:


    - Major U.S. indices: S\&P 500, Nasdaq Composite, Dow Jones

    - Sector indices and international indices

    - Daily and intraday price tracking


    **Cryptocurrencies**:


    - Major pairs: BTC/USD, ETH/USD, and other top cryptocurrencies

    - 24/7 data availability

    - Multi-year historical coverage


    **Forex**:


    - Major currency pairs (EUR/USD, GBP/USD, USD/JPY, etc.)

    - Cross pairs and exotic pairs

    - 24/5 market coverage


    ### Use Cases


    - **Backtesting**: Multi-year daily bars for systematic strategy development with
    split/dividend adjustments

    - **Technical Analysis**: Calculate indicators (MA, RSI, MACD), identify support/resistance,
    analyze volume patterns

    - **Price Discovery**: Compare closes across assets, identify gaps, track volatility
    (high-low ranges)

    - **Intraday Analysis**: Minute bars for pattern recognition, opening/closing
    auctions, time-of-day volume patterns


    ---


    ## Tick Trades


    **What It Is**: Individual trade executions showing every transaction that occurred
    on an exchange.


    ### Key Fields


    | Field | Description |

    |-------|-------------|

    | **timestamp** | Exact time of trade execution |

    | **price** | Price at which trade executed |

    | **size** | Number of shares/units traded |

    | **exchange** | Exchange where trade occurred |


    ### Data Characteristics


    **Update Schedule**: Real-time during market hours with minimal latency


    **Granularity**: Most granular level of market data available


    **History Depth**: Extensive tick history available for analysis


    **Data Volume**: Very large datasets - use date filtering for specific analysis
    periods


    ### Use Cases


    - **Execution Analysis**: Analyze fills vs. market trades, study slippage, benchmark
    against VWAP

    - **Market Microstructure**: Research price formation, trade size distributions,
    inter-trade timing

    - **High-Frequency Development**: Simulate tick-by-tick execution, backtest ultra-short
    strategies, analyze order flow

    - **Volume Profile**: Build price-volume histograms, identify high-volume nodes


    ---


    ## Quotes


    **What It Is**: National Best Bid and Offer (NBBO) showing the best available
    buy and sell prices across all exchanges.


    ### Key Fields


    | Field | Description |

    |-------|-------------|

    | **timestamp** | Time of quote update |

    | **bid\_price** | Best available buy price |

    | **ask\_price** | Best available sell price |

    | **bid\_size** | Quantity available at bid |

    | **ask\_size** | Quantity available at ask |

    | **bid\_exchange** | Exchange with best bid |

    | **ask\_exchange** | Exchange with best ask |


    ### Data Characteristics


    **Update Schedule**: Real-time quote updates as market conditions change


    **Quote Type**: National Best Bid Offer (NBBO) for stocks


    **History Depth**: Historical quote data available for analysis


    ### Calculated Metrics


    **Spread**: `ask_price - bid_price`


    - Measures transaction cost

    - Indicator of liquidity


    **Mid Price**: `(bid_price + ask_price) / 2`


    - Fair value estimate

    - Used in theoretical pricing


    ### Use Cases


    - **Spread Analysis**: Measure liquidity across stocks, identify best/worst spread
    times, estimate transaction costs

    - **Liquidity Research**: Study bid/ask depth, compare across securities, identify
    liquid vs. illiquid periods

    - **Market Making**: Analyze bid-ask dynamics, quote update frequency, inventory
    risk modeling

    - **Fair Value**: Use mid-price for mark-to-market, calculate theoretical prices
    between trades

    - **Order Optimization**: Determine limit vs. market orders, estimate execution
    probability, optimize placement


    ---


    ## Data Quality


    All market data undergoes quality checks:


    - **Completeness**: Continuous time series without gaps

    - **Accuracy**: Exchange-grade data from official sources

    - **Adjustments**: Transparent handling of corporate actions

    - **Timestamps**: Precise timing for event sequencing


    ---


    ## Practical Considerations


    **Data Volume**: Daily aggregates (small, multi-year queries), minute aggregates
    (moderate, days/weeks), tick data (very large, hours/days)


    **Asset Class Differences**: Stocks (9:30 AM-4 PM ET, corporate actions, NBBO),
    Crypto (24/7, high volatility, no corporate actions), Forex (24/5, no central
    exchange)


    ---


    ## Integration with Other Datasets


    Market data becomes more powerful when combined with other datasets:


    **+ Corporate Data**:


    - Adjust prices for dividends and splits

    - Calculate total returns accurately

    - Align prices with earnings dates


    **+ Alternative Data**:


    - Overlay insider buying with price moves

    - Compare institutional holdings to price trends

    - Study price reaction to 13F filing dates


    **+ Economic Data**:


    - Analyze market behavior during economic releases

    - Study correlation with interest rate changes

    - Build macro factor models


    ---


    ## Best Practices


    **Backtesting**: Use daily aggregates (stable, efficient), include split/dividend
    adjustments, avoid survivorship bias


    **Research**: Query small date ranges first, filter by volume for liquidity, check
    for data gaps, document adjustments


    ---


    ## Next Steps


    - [Economic Data](/docs/economic-data) - Add macro factors to your market analysis

    - [Corporate Data](/docs/corporate-data) - Incorporate fundamental data

    - [Alternative Data](/docs/alternative-data) - Enhance with sentiment and positioning
    data

    '
  filename: public_documentation/datasets/market-data.md
- content: "---\n\ntitle: Core Visualization Features\npage\\_type: implementation\n\
    layout: default\norder: 2\ncategory: Concepts\ndescription: Auto-plotting and\
    \ event markers for real-time strategy visualization\nparent: ./index.md\n------------------\n\
    \n# Core Visualization Features\n\n## Transform Categories\n\n**Transforms are\
    \ organized by semantic category** for discoverability:\n\n| Category | Purpose\
    \ | Examples |\n|----------|---------|----------|\n| **Trend** | Moving averages,\
    \ trend identification | EMA, SMA, KAMA, HMA |\n| **Momentum** | Oscillators,\
    \ momentum indicators | RSI, MACD, Stochastic, CCI |\n| **Volatility** | Volatility\
    \ measurement | ATR, Bollinger Bands, Yang-Zhang |\n| **Volume** | Volume-based\
    \ analysis | OBV, VWAP, Volume MA |\n| **PriceAction** | Pattern recognition |\
    \ Candlestick patterns, chart formations |\n| **Statistical** | Statistical analysis\
    \ | Z-score, correlation, regression |\n| **Math** | Mathematical operations |\
    \ Arithmetic, comparisons, operators |\n| **DataSource** | Market data feeds |\
    \ OHLCV, fundamentals, economic data |\n| **ControlFlow** | Conditional logic\
    \ | Conditional select, first non-null |\n| **Utility** | Helper functions | String\
    \ operations, switches |\n\n## Auto-Plotting System\n\n**Transforms plot automatically**\
    \ based on their `plotKind` metadata:\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Line overlay on price chart\nema_20 = ema(period=20)(src.c)\n\n# Specialized\
    \ panel (0-100 scale)\nrsi_val = rsi(period=14)(src.c)\n\n# Multi-output panel\
    \ (2 lines + histogram)\nmac = macd(short_period=12, long_period=26, signal_period=9)(src.c)\n\
    ```\n\n**Common Plot Types:**\n\n- `line` - Generic overlay on price chart\n-\
    \ `panel_line` - Separate panel, any scale\n- `rsi`, `macd`, `stoch` - Specialized\
    \ panels with known scales\n- `bbands` - Multi-line overlay with bands\n- `vwap`\
    \ - Volume-weighted overlay\n\n---\n\n## Event Marker System\n\n**Mark important\
    \ timestamps** for timeline navigation:\n\n> **Note:** For requirements and common\
    \ mistakes, see [Event Marker Design Guidelines](../design-guidelines#event-marker-color-maps)\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# Mark RSI extremes\n\
    rsi_val = rsi(period=14)(src.c)\noversold_event = rsi_val < 30\noverbought_event\
    \ = rsi_val > 70\nany_event = oversold_event | overbought_event\n\nevent_type\
    \ = conditional_select(\n    oversold_event, \"oversold_event\",\n    overbought_event,\
    \ \"overbought_event\")\n\nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n\
    \        title=\"RSI Events\",\n        select_key=SLOT0,\n        icon=Signal,\n\
    \        schemas=[\n            CardColumnSchema(\n                column_id=SLOT1,\n\
    \                slot=PrimaryBadge,\n                render_type=Badge,\n    \
    \            color_map={\n                    Success: [\"oversold_event\"],\n\
    \                    Error: [\"overbought_event\"]\n                }\n      \
    \      )\n        ]\n    )\n)(any_event, event_type)\n```\n\n**Creates interactive\
    \ timeline** (click to jump to timestamp):\n\n```text\nEVENTS (Timeline)\n\u251C\
    \u2500 2024-01-15 09:35  \u25CF Oversold Event    [Success]\n\u251C\u2500 2024-01-15\
    \ 11:20  \u25CF Overbought Event  [Error]\n\u251C\u2500 2024-01-15 14:45  \u25CF\
    \ Oversold Event    [Success]\n\u2514\u2500 2024-01-16 10:10  \u25CF Overbought\
    \ Event  [Error]\n```\n\n### Creating Event Markers\n\n**Color categories:**\n\
    \n- `Success` (Green): Bullish signals, entries, confirmations\n- `Error` (Red):\
    \ Bearish signals, exits, warnings\n- `Warning` (Yellow): Neutral events, patterns,\
    \ regime changes\n\n**Example with full schema:**\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nfast = ema(period=12)(src.c)\nslow = ema(period=26)(src.c)\n\n# Entry/exit\
    \ signals\nbuy_signal = crossover(fast, slow)\nsell_signal = crossover(slow, fast)\n\
    signal = buy_signal or sell_signal\n\n# Event markers for signals with colored\
    \ badges\nsignal_type = conditional_select(\n    buy_signal, \"BUY\",\n    sell_signal,\
    \ \"SELL\")\n\nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n   \
    \     title=\"MA Crossover Signals\",\n        icon=Signal,\n        select_key=SLOT0,\n\
    \        schemas=[\n            CardColumnSchema(\n                column_id=SLOT1,\n\
    \                slot=Hero,\n                render_type=Badge,\n            \
    \    color_map={Success: [\"BUY\"], Error: [\"SELL\"]}\n            )\n      \
    \  ]\n    )\n)(signal, signal_type)\n```\n\n**Timeline output:**\n\n```text\n\u251C\
    \u2500 2024-01-10 10:30  \u25B2 Buy Signal       [Success]\n\u251C\u2500 2024-01-12\
    \ 14:20  \u25BC Sell Signal      [Error]\n\u251C\u2500 2024-01-15 09:45  \u25B2\
    \ Buy Signal       [Success]\n\u2514\u2500 2024-01-17 11:15  \u25BC Sell Signal\
    \      [Error]\n```\n\n### Flexible Types in `color_map`\n\n**`color_map` accepts\
    \ any value type** - strings, numbers, or booleans:\n\n```python\nsrc = market_data_source(timeframe=\"\
    1Min\")\n\n# Status codes: 0=inactive, 1=warning, 2=active\nstatus_code = number(value=2).result\n\
    \n# Boolean signal\nis_trading = src.c > number(value=100).result\n\nevent_marker(\n\
    \    event_marker_schema=EventMarkerSchema(\n        title=\"Trading Status\"\
    ,\n        icon=Signal,\n        select_key=SLOT1,\n        schemas=[\n      \
    \      CardColumnSchema(\n                column_id=SLOT0,\n                slot=Hero,\n\
    \                render_type=Integer,\n                color_map={\n         \
    \           Success: [2],      # Integer 2 \u2192 \"2\"\n                    Warning:\
    \ [1],      # Integer 1 \u2192 \"1\"\n                    Error: [0]         #\
    \ Integer 0 \u2192 \"0\"\n                }\n            ),\n            CardColumnSchema(\n\
    \                column_id=SLOT1,\n                slot=SecondaryBadge,\n    \
    \            render_type=Badge,\n                color_map={\n               \
    \     Info: [True]       # Boolean True \u2192 \"True\"\n                }\n \
    \           )\n        ]\n    )\n)(status_code, is_trading)\n```\n\n**Type preservation:**\n\
    \n- Booleans: Use `True`/`False` directly\n- Integers: Use numbers like `0`, `1`,\
    \ `2`\n- Decimals: Use decimals like `3.14`\n- Strings: Use quoted strings like\
    \ `\"ACTIVE\"`\n\n### Use Cases\n\n**Strategy Development:**\n\n- Mark all entry\
    \ signals \u2192 Review each visually \u2192 Refine conditions\n- Mark pattern\
    \ detections \u2192 Validate accuracy \u2192 Tune parameters\n- Mark regime changes\
    \ \u2192 See if strategy adapts correctly\n\n**Debugging:**\n\n- Mark unexpected\
    \ behavior \u2192 Identify problem bars\n- Mark edge cases \u2192 Study what happened\n\
    - Mark false signals \u2192 Identify why they occurred\n\n**Performance Analysis:**\n\
    \n- Mark all trades \u2192 Review execution\n- Mark stops hit \u2192 Analyze stop\
    \ placement\n- Mark missed opportunities \u2192 Improve signal timing\n\n---\n\
    \n**Next:** [Research Reports \u2192](./research)\n"
  filename: public_documentation/epochscript/concepts/core-features.md
- content: "---\n\ntitle: Cross-Sectional Analysis\npage\\_type: concept\nlayout:\
    \ default\norder: 3\ncategory: Core Concepts\ndescription: Multi-asset ranking,\
    \ selection, and comparison for factor strategies\nparent: ./index.md\n------------------\n\
    \n# Cross-Sectional Analysis\n\nEvaluate multiple assets simultaneously at each\
    \ timestamp to generate rankings, factors, statistical comparisons, and universe\
    \ filters.\n\n---\n\n## Overview\n\nCross-sectional transforms operate **across\
    \ assets at each point in time**, not over time for a single asset. At every timestamp,\
    \ they compare all assets in your universe to produce rankings, selections, or\
    \ normalized metrics.\n\n**Key Distinction:**\n\n- **Regular transforms**: Operate\
    \ on one asset over time (e.g., `sma(period=20)` calculates 20-period average\
    \ for each asset independently)\n- **Cross-sectional transforms**: Operate across\
    \ all assets at each timestamp (e.g., `cs_zscore()` normalizes each asset relative\
    \ to the mean/std of all assets at that moment)\n\n---\n\n## Categories\n\n###\
    \ 1. Ranking & Selection\n\n**Purpose:** Identify top/bottom performers within\
    \ your universe for portfolio construction.\n\n#### `cs_momentum` - Momentum Ranking\n\
    \nCalculates percentile rank across assets based on input values (typically returns\
    \ or momentum metrics).\n\n```python\nsrc = market_data_source(timeframe=\"1D\"\
    )\n\n# Calculate 20-day returns for all assets\nreturns = roc(period=20)(src.c)\n\
    \n# Rank assets by momentum (0-100 percentile)\nmomentum_rank = cs_momentum()(returns)\n\
    # Result: XLK=95, XLF=72, XLE=15, ... (percentile ranks)\n```\n\n**Use Cases:**\n\
    \n- Relative strength/weakness identification\n- Factor scoring for multi-factor\
    \ strategies\n- Portfolio rotation based on momentum\n\n---\n\n#### `top_k` /\
    \ `bottom_k` - Fixed Count Selection\n\nSelect exactly K top or bottom assets.\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# Calculate momentum\
    \ rank\nreturns = roc(period=20)(src.c)\nmomentum_rank = cs_momentum()(returns)\n\
    \n# Select top 10 assets by momentum\ntop_performers = top_k(k=10)(momentum_rank)\n\
    # Result: Boolean true for top 10, false for rest\n\n# Select bottom 5 for shorting\n\
    short_candidates = bottom_k(k=5)(momentum_rank)\n```\n\n**Use Cases:**\n\n- Fixed-size\
    \ portfolios (always hold exactly 10 stocks)\n- Long-short strategies with equal\
    \ legs\n- Top-10 sector rotation\n\n---\n\n#### `top_k_percent` / `bottom_k_percent`\
    \ - Percentage Selection\n\nSelect top/bottom K% of assets (adapts to universe\
    \ size).\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# Calculate\
    \ momentum rank\nreturns = roc(period=20)(src.c)\nmomentum_rank = cs_momentum()(returns)\n\
    combined_factor = momentum_rank\n\n# Select top 20% of universe\ntop_quintile\
    \ = top_k_percent(k=20)(momentum_rank)\n# 100 assets \u2192 20 selected, 50 assets\
    \ \u2192 10 selected\n\n# Long top 20%, short bottom 20%\nlong_positions = top_k_percent(k=20)(combined_factor)\n\
    short_positions = bottom_k_percent(k=20)(combined_factor)\n```\n\n**Use Cases:**\n\
    \n- Dynamic universe sizing (universe may grow/shrink)\n- Proportional allocation\
    \ strategies\n- Balanced long-short portfolios\n\n---\n\n### 2. Statistical Analysis\n\
    \n**Purpose:** Measure relationships, normalize metrics, and calculate cross-sectional\
    \ statistics for factor investing and risk analysis.\n\n#### `cs_zscore` - Cross-Sectional\
    \ Normalization\n\nAt each timestamp, normalizes values across assets: `z_i =\
    \ (value_i - mean_all) / std_all`\n\n**IMPORTANT:** This is NOT time-series zscore.\
    \ It normalizes **across assets** at each moment, not over time.\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\n\n# Calculate sector returns\nsector_returns\
    \ = roc(period=20)(src.c)\n\n# Normalize returns across sectors at each timestamp\n\
    normalized_returns = cs_zscore()(sector_returns)\n# At timestamp T:\n#   If XLK=+15%,\
    \ XLF=+8%, XLE=-5%, mean=+6%, std=10%\n#   \u2192 XLK_zscore = (15-6)/10 = +0.9\n\
    #   \u2192 XLE_zscore = (-5-6)/10 = -1.1\n\n# Identify outliers (>2 std devs from\
    \ peer mean)\noutliers = normalized_returns > 2.0\n```\n\n**Use Cases:**\n\n-\
    \ **Factor combination**: Normalize multiple factors (momentum, value, quality)\
    \ to same scale before combining\n- **Outlier detection**: Find assets significantly\
    \ above/below peer group\n- **Mean reversion**: Long bottom zscore, short top\
    \ zscore\n- **Cross-sectional comparison**: Compare metrics with different units\
    \ (P/E ratios, volatility, returns)\n\n---\n\n## Multi-Factor Example\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\nratios = financial_ratios()\n\n# Calculate\
    \ and normalize factors\nmomentum = cs_zscore()(roc(period=60)(src.c))\nvalue\
    \ = cs_zscore()(ratios.pe * -1)\nquality = cs_zscore()(atr(period=14)(src.c) *\
    \ -1)\n\n# Combine normalized factors\ncombined_score = (momentum * 0.5 + value\
    \ * 0.3 + quality * 0.2)\n\n# Select positions\nlong_positions = top_k_percent(k=20)(combined_score)\n\
    short_positions = bottom_k_percent(k=10)(combined_score)\n\ntrade_signal_executor()(enter_long=long_positions,\
    \ enter_short=short_positions)\n```\n\n---\n\n## Technical Notes\n\n**Factor Normalization:**\n\
    \n- Use `cs_zscore()` before combining factors to normalize to same scale\n- Required\
    \ when metrics have different units (returns, ratios, volatility)\n\n**Window\
    \ Sizes:**\n\n- Correlation/covariance: 60+ periods recommended for stable estimates\n\
    - Smaller windows increase sensitivity but reduce statistical reliability\n\n\
    ---\n\n## See Also\n\n- [Design Guidelines](../design-guidelines) - Cross-sectional\
    \ constraints and universe setup\n- [Timeframes](./timeframes) - Multi-timeframe\
    \ cross-sectional strategies\n- [Data Sources](./data-sources) - Access fundamental\
    \ and market data for factor strategies\n"
  filename: public_documentation/epochscript/concepts/cross-sectional.md
- content: "---\n\ntitle: Data Sources\ndescription: Access market data, fundamentals,\
    \ economic indicators, and institutional data\n------------------------------------------------------------------------------------------\n\
    \n# Data Sources\n\nEpochScript provides diverse data source nodes to access market\
    \ prices, fundamental metrics, economic indicators, and institutional trading\
    \ data. Each data source connects external data to your strategy graph.\n\n##\
    \ Quick Start\n\n```python\n# Market OHLC bars\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Fundamental screening\nratios = financial_ratios()\nincome = income_statement()\n\
    quality = (ratios.roe > 0.15) & (income.net_income > 0)\n\n# Economic regime detection\n\
    fed_funds = economic_indicator(category=\"FedFunds\")\nrisk_on = fed_funds.value\
    \ < 2.0\n\n# Insider sentiment\ninsider = insider_trading(\n    transaction_code=\"\
    P\",\n    min_value=100000,\n    timeframe=\"1D\"\n)()\n```\n\n## Market Data\
    \ Sources\n\n### market\\_data\\_source\n\nThe primary node for accessing OHLC\
    \ bar data at your strategy's timeframe.\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nprices = src.c\nhighs = src.h\nlows = src.l\nvolume = src.v\n\n# Multi-timeframe\
    \ analysis\ndaily = market_data_source(timeframe=\"1D\")\nhourly = market_data_source(timeframe=\"\
    1H\")\n\n# For VWAP and trade count, use separate nodes\nvwap_val = vwap(timeframe=\"\
    1D\")()\ntrades = trade_count(timeframe=\"1D\")()\n```\n\n**Outputs:** `open`,\
    \ `high`, `low`, `close`, `volume`\n\n**Use Cases:** Base market data connection,\
    \ technical analysis, trend following\n\n**Note:** VWAP and trade count are separate\
    \ nodes - see `vwap()` and `trade_count()` below.\n\n### vwap\n\nVolume-weighted\
    \ average price per bar from data provider.\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Requires data provider to supply 'vw' field\nvwap_val = vwap(timeframe=\"\
    1D\")()\n\n# Use for execution benchmarking\nabove_vwap = src.c > vwap_val\n```\n\
    \n**Outputs:** Volume-weighted average price (single decimal output)\n\n**Parameters:**\n\
    \n- `timeframe`: Required\n\n**Requires:** Data provider must supply `vw` field\n\
    \n**Use Cases:** Intraday execution, mean reversion, trend confirmation\n\n###\
    \ trade\\_count\n\nNumber of trades per bar from data provider.\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\n\n# Requires data provider to supply\
    \ 'n' field\ntrades = trade_count(timeframe=\"1D\")()\n\n# Gauge liquidity\nhigh_activity\
    \ = trades > trades[20] * 1.5\n```\n\n**Outputs:** Trade count (single integer\
    \ output)\n\n**Parameters:**\n\n- `timeframe`: Required\n\n**Requires:** Data\
    \ provider must supply `n` field\n\n**Use Cases:** Liquidity analysis, volume\
    \ confirmation, market microstructure\n\n## Fundamental Data (Polygon)\n\n###\
    \ balance\\_sheet\n\nBalance sheet metrics for leverage and liquidity analysis.\n\
    \n```python\nbs = balance_sheet()\ncf = cash_flow()\nratios = financial_ratios()\n\
    \n# Leverage analysis\nleverage = bs.long_term_debt / ratios.market_cap\nhigh_debt\
    \ = ratios.debt_equity > 1.5\n\n# Liquidity analysis\nliquid = ratios.current_ratio\
    \ > 1.3\n```\n\n**Key Outputs:**\n\n- `cash`, `current_debt`, `long_term_debt`\n\
    - `receivables`, `inventories`, `ppe_net`\n- `accounts_payable`, `accrued_liabilities`\n\
    - `retained_earnings`, `aoci`\n- `fiscal_year`, `fiscal_quarter`, `period_end`,\
    \ `cik`, `timeframe`\n\n**Frequency:** Quarterly/Annual\n**Lag:** 45+ days after\
    \ quarter end\n\n### income\\_statement\n\nRevenue, earnings, and profitability\
    \ metrics.\n\n```python\nincome = income_statement()\nratios = financial_ratios()\n\
    \n# Margin analysis\ngross_margin = income.gross_profit / income.revenue\noperating_margin\
    \ = income.operating_income / income.revenue\n\n# Growth screening\nprofitable\
    \ = income.net_income > 0\neps = income.diluted_eps\n```\n\n**Key Outputs:**\n\
    \n- `revenue`, `cogs`, `gross_profit`\n- `operating_income`, `net_income`\n- `basic_eps`,\
    \ `diluted_eps`\n- `basic_shares`, `diluted_shares`\n- `rnd`, `sga`, `other_opex`\n\
    - `ebt`, `income_tax`, `other_income`\n- `fiscal_year`, `fiscal_quarter`, `period_end`,\
    \ `cik`, `timeframe`\n\n**Use Cases:** Earnings momentum, margin analysis, growth\
    \ screening\n\n### cash\\_flow\n\nOperating, investing, and financing cash flows.\n\
    \n```python\ncf = cash_flow()\nincome = income_statement()\nratios = financial_ratios()\n\
    \n# Free cash flow analysis\nfcf = cf.cfo_cont - cf.capex\npositive_fcf = fcf\
    \ > 0\nfcf_yield = fcf / ratios.market_cap\n\n# Capital allocation\ncapex_intensity\
    \ = cf.capex / cf.cfo_cont\n```\n\n**Key Outputs:**\n\n- `cfo`, `cfi`, `cff` -\
    \ Net cash from operating/investing/financing\n- `cfo_cont`, `cfi_cont`, `cff_cont`\
    \ - Continuing operations\n- `capex`, `dividends`, `change_in_cash`\n- `net_income`,\
    \ `dna` (D\\&A), `change_in_wc`\n- `lt_debt_net`, `st_debt_net` - Debt issuances/repayments\n\
    - `other_cfo`, `other_cfi`, `other_cff`\n- `fiscal_year`, `fiscal_quarter`, `period_end`,\
    \ `cik`, `timeframe`\n\n**Use Cases:** Quality investing, capital allocation assessment,\
    \ liquidity analysis\n\n### financial\\_ratios\n\nPre-calculated valuation and\
    \ operational ratios.\n\n```python\nratios = financial_ratios()\nincome = income_statement()\n\
    \n# Value screening\nvalue = (ratios.pe < 15) & (ratios.pb < 2)\n\n# Quality screening\n\
    quality = (ratios.roe > 0.15) & (ratios.debt_equity < 1)\n\n# Yield screening\n\
    high_yield = ratios.div_yield > 0.03\n\n# Combined filter\nquality_value = value\
    \ & quality & (income.net_income > 0)\n```\n\n**Key Outputs:**\n\n- **Valuation:**\
    \ `pe`, `pb`, `ps`, `ev_ebitda`, `ev_sales`, `pcf`, `pfcf`\n- **Profitability:**\
    \ `roe`, `roa`, `eps`, `fcf`\n- **Liquidity:** `current_ratio`, `quick_ratio`,\
    \ `debt_equity`\n- **Other:** `market_cap`, `ev`, `price`, `div_yield`, `avg_volume`,\
    \ `cash`\n- **Meta:** `date`, `cik`, `ticker`\n\n**Use Cases:** Factor strategies,\
    \ screening, valuation analysis, quality filtering\n\n## Market Indices\n\n###\
    \ common\\_indices\n\nMajor market indices with preset selection.\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\nvix = common_indices(index=\"VIX\"\
    )()\nspx = common_indices(index=\"SPX\")()\n\n# Market regime detection\nhigh_fear\
    \ = vix.c > 30\nrising_fear = vix.c > vix.c[5]\nrisk_off = high_fear | rising_fear\n\
    ```\n\n**Available Indices:**\n\n- **US Equity:** SPX (S\\&P 500), DJI (Dow Jones),\
    \ NDX (NASDAQ 100)\n- **Size:** RUT (Russell 2000), RUI (Russell 1000), RUA (Russell\
    \ 3000)\n- **International:** FTSE (FTSE 100)\n- **Other:** VIX (Volatility),\
    \ NYA (NYSE Composite), XAU (Gold & Silver)\n\n**Parameters:**\n\n- `index`: Dropdown\
    \ selection from above\n\n**Outputs:** `o`, `h`, `l`, `c`\n\n### indices\n\nAccess\
    \ any market index by ticker symbol.\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nfed_funds = economic_indicator(category=\"FedFunds\")\nvix = indices(ticker=\"\
    VIX\")()\n\n# Risk-on/risk-off regime\nlow_rates = fed_funds.value < 2.0\nlow_fear\
    \ = vix.c < 15\nrisk_on = low_rates & low_fear\n\n# Only trade in favorable macro\
    \ conditions\ntechnical_signal = crossover(ema(period=20)(src.c), ema(period=50)(src.c))\n\
    entry = technical_signal & risk_on\n```\n\n**Parameters:**\n\n- `ticker`: Index\
    \ ticker symbol (e.g., \"VIX\", \"SPX\", \"DAX\")\n\n**Outputs:** `o`, `h`, `l`,\
    \ `c`\n\n**Use Cases:** International indices, custom benchmarks, correlation\
    \ studies\n\n### us\\_reference\\_stocks\n\nLoad OHLCV data for US reference stocks/ETFs\
    \ to compare against your main asset.\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nspy = us_reference_stocks(ticker=\"SPY\")()\n\n# Relative strength analysis\n\
    rel_strength = src.c / spy.c\noutperforming = rel_strength > rel_strength[20]\n\
    \n# Beta calculation\nreturns = (src.c / src.c[1]) - 1\nspy_returns = (spy.c /\
    \ spy.c[1]) - 1\nbeta = rolling_cov(window=60)(returns, spy_returns) / rolling_cov(window=60)(spy_returns,\
    \ spy_returns)\n```\n\n**Parameters:**\n\n- `ticker`: Reference stock ticker (e.g.,\
    \ \"SPY\", \"QQQ\", \"DIA\", \"IWM\")\n\n**Outputs:** `o`, `h`, `l`, `c`, `v`,\
    \ `vw` (volume-weighted price), `n` (trade count)\n\n**Date Range:** Automatically\
    \ aligns with main `market_data_source`\n\n**Use Cases:** Pairs trading, beta\
    \ hedging, relative strength, market correlation, benchmark comparison\n\n**Note:**\
    \ Unlike `market_data_source` (for your strategy's primary asset), this node is\
    \ for loading comparison/reference data. The `is_eod` parameter is automatically\
    \ determined from the timeframe.\n\n## Microstructure Data (Polygon)\n\n### quotes\n\
    \nBest bid/ask prices with microsecond timestamps (NBBO).\n\n```python\nq = quotes(timeframe=\"\
    1Min\")()\nspread = q.ask - q.bid\nspread_bps = (spread / q.bid) * 10000\nmid\
    \ = (q.bid + q.ask) / 2\n```\n\n**Outputs:** `ticker`, `bid`, `ask`, `bid_size`,\
    \ `ask_size`, `timestamp`\n\n**Warning:** Very high data volume. Use narrow date\
    \ ranges. Nanosecond timestamps.\n\n**Use Cases:** Spread analysis, market microstructure,\
    \ liquidity measurement\n\n### trades\n\nIndividual trade executions for volume\
    \ analysis.\n\n```python\nt = trades(timeframe=\"1Min\")()\ndollar_volume = t.price\
    \ * t.size\n# Aggregate for VWAP calculations, volume profiles\n```\n\n**Outputs:**\
    \ `ticker`, `price`, `size`, `exchange_id`, `timestamp`\n\n**Warning:** Extremely\
    \ high data volume. Use narrow date ranges.\n\n**Use Cases:** Volume profile,\
    \ VWAP analysis, market microstructure, trade flow\n\n## Economic Data (FRED)\n\
    \n### economic\\_indicator\n\nFederal Reserve Economic Data for macro analysis.\
    \ **Requires connection to market data source** for date range.\n\n```python\n\
    # Market data connection (REQUIRED)\nsrc = market_data_source(timeframe=\"1D\"\
    )\n\n# Economic indicators\ngdp = economic_indicator(category=\"GDP\")()\nunemployment\
    \ = economic_indicator(category=\"Unemployment\")()\ncpi = economic_indicator(category=\"\
    CPI\")()\n\n# Calculate economic surprise\ngdp_ma = sma(period=4)(gdp.value) \
    \ # 4 quarters\ngdp_surprise = (gdp.value - gdp_ma) / gdp_ma\n\n# Positive surprise\
    \ = growth accelerating\npositive_surprise = gdp_surprise > 0.01  # 1% above trend\n\
    \n# Combine with technical signal\nfast = ema(period=20)(src.c)\nslow = ema(period=50)(src.c)\n\
    trend_up = fast > slow\n\nentry = positive_surprise & trend_up\n```\n\n**Available\
    \ Categories:**\n\n**Inflation:**\n\n- CPI - Consumer Price Index\n- CoreCPI -\
    \ Core CPI (ex Food & Energy)\n- PCE - Personal Consumption Expenditures Price\
    \ Index\n- CorePCE - Core PCE (Fed's preferred measure)\n\n**Interest Rates:**\n\
    \n- FedFunds - Federal Funds Effective Rate\n- Treasury3M, Treasury2Y, Treasury5Y,\
    \ Treasury10Y, Treasury30Y\n\n**Employment:**\n\n- Unemployment - Unemployment\
    \ Rate\n- NonfarmPayrolls - Nonfarm Payrolls\n- InitialClaims - Initial Jobless\
    \ Claims (Weekly)\n\n**Growth:**\n\n- GDP - Real Gross Domestic Product\n- IndustrialProduction\
    \ - Industrial Production Index\n- RetailSales - Retail Sales\n- HousingStarts\
    \ - Housing Starts\n\n**Sentiment:**\n\n- ConsumerSentiment - University of Michigan\
    \ Consumer Sentiment\n- M2 - M2 Money Supply\n\n**Outputs:** `observation_date`,\
    \ `value`\n\n**Important:**\n\n- Values appear **ONLY on publication dates** (not\
    \ forward-filled)\n- Frequency varies by series (daily to quarterly)\n- Significant\
    \ publication lag\n- Must connect to `market_data_source` for date range\n\n**Use\
    \ Cases:** Regime detection, macro-driven strategies, risk-on/risk-off, economic\
    \ calendar\n\n## Institutional Data (SEC)\n\n### form13f\\_holdings\n\nTrack institutional\
    \ ownership from SEC Form 13F filings.\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Follow Berkshire Hathaway (CIK: 1067983)\n# Filter for $1B+ positions\n\
    brk_holdings = form13f_holdings(\n    institution_cik=\"1067983\",\n    min_value=1000000000,\n\
    \    timeframe=\"1D\"\n)()\n\n# Detect position changes\nshares_now = brk_holdings.shares\n\
    # ~1 quarter ago\nshares_prev = brk_holdings.shares[90]\n\n# 10%+ increase in\
    \ holdings\nposition_increased = shares_now > shares_prev * 1.1\nnew_position\
    \ = (shares_prev == 0) & (shares_now > 0)\n\n# Bullish signal from smart money\n\
    bullish_13f = position_increased | new_position\n\n# Combine with technical\n\
    technical_signal = rsi(period=14)(src.c) < 50\nentry = bullish_13f & technical_signal\n\
    ```\n\n**Parameters:**\n\n- `filing_type`: \"13F-HR\", \"10-K\", \"10-Q\", \"\
    8-K\" (optional)\n- `institution_cik`: Filter by specific institution CIK (optional)\n\
    - `min_value`: Minimum position value in USD (default: 0.0)\n- `timeframe`: Required\n\
    \n**Outputs:** `shares`, `value`, `security_type`, `investment_discretion`, `institution_name`,\
    \ `period_end`\n\n**Notable CIKs:**\n\n- 1067983 - Berkshire Hathaway\n- 1324404\
    \ - Citadel Advisors\n- 1649339 - Renaissance Technologies\n\n**Limitations:**\n\
    \n- Quarterly filings only\n- 45-day lag after quarter end\n- Long positions only\
    \ (shorts excluded)\n- $100M+ AUM threshold\n\n### insider\\_trading\n\nTrack\
    \ insider transactions from SEC Forms 3, 4, 5, and 144.\n\n```python\n# Filter\
    \ for open market purchases (most bullish signal)\n# $100K+ purchases\ninsider\
    \ = insider_trading(\n    filing_type=4,\n    transaction_code=\"P\",\n    min_value=100000,\n\
    \    timeframe=\"1D\"\n)()\n\n# Market data for comparison\nsrc = market_data_source(timeframe=\"\
    1D\")\ncurrent_price = src.c\n\n# Price vs insider purchase price\nprice_vs_insider\
    \ = current_price / insider.price\n\n# Signal: insider bought recently near current\
    \ levels\ninsider_buying = (insider.shares > 0) & (price_vs_insider < 1.1)\n\n\
    # Combine with technical\nrsi_val = rsi(period=14)(src.c)\noversold = rsi_val\
    \ < 30\n\nentry = insider_buying & oversold\n```\n\n**Transaction Codes:**\n\n\
    - **P** - Open Market Purchase (bullish signal)\n- **S** - Open Market Sale (bearish,\
    \ but check context)\n- **A** - Award/Grant (compensation)\n- **M** - Exercise/Conversion\n\
    - **D** - Disposition to Issuer\n- **F** - Payment of Tax Liability\n- **C** -\
    \ Conversion of Derivative\n- **G** - Gift\n- **J** - Other\n- **V** - Voluntary\
    \ Early Report\n\n**Parameters:**\n\n- `filing_type`: \"3\", \"4\", \"5\", \"\
    144\" (optional)\n- `transaction_code`: \"P\", \"S\", \"A\", \"M\", etc. (optional)\n\
    - `min_value`: Minimum transaction value USD (default: 0.0)\n- `owner_name`: Filter\
    \ by insider name (optional)\n- `timeframe`: Required\n\n**Outputs:** `transaction_date`,\
    \ `owner_name`, `transaction_code`, `shares`, `price`, `ownership_after`\n\n**Limitations:**\n\
    \n- 2-day reporting lag\n- Pre-arranged trading plans (10b5-1) dilute signal\n\
    - Sales may be for diversification, not bearish conviction\n\n## Multi-Source\
    \ Strategy Example\n\nComprehensive strategy combining multiple data sources:\n\
    \n```python\n# Price data\nsrc = market_data_source(timeframe=\"1D\")\n\n# Technical\
    \ indicator\nrsi_val = rsi(period=14)(src.c)\noversold = rsi_val < 30\n\n# Fundamental\
    \ quality filters\nbs = balance_sheet()\nincome = income_statement()\ncf = cash_flow()\n\
    ratios = financial_ratios()\n\n# Balance sheet quality\nlow_debt = ratios.debt_equity\
    \ < 0.7\nliquid = ratios.current_ratio > 1.3\n\n# Profitability\nprofitable =\
    \ income.net_income > 0\nhigh_roe = ratios.roe > 0.15\n\n# Cash generation\npositive_fcf\
    \ = (cf.cfo_cont - cf.capex) > 0\n\n# Valuation\npe = src.c / income.basic_eps\n\
    reasonable_pe = (pe < 25) & (pe > 5)\n\n# Combined quality filter\nfundamentals_ok\
    \ = low_debt & liquid & profitable & high_roe & positive_fcf & reasonable_pe\n\
    \n# Macro regime\nfed_funds = economic_indicator(category=\"FedFunds\")\nlow_rates\
    \ = fed_funds.value < 2.5\n\n# Insider activity\ninsider = insider_trading(\n\
    \    transaction_code=\"P\",\n    min_value=100000,\n    timeframe=\"1D\"\n)()\n\
    insider_buying = insider.shares > 0\n\n# Combined multi-factor signal\nentry =\
    \ oversold & fundamentals_ok & low_rates & insider_buying\n```\n\n## Best Practices\n\
    \n### Data Frequency Matching\n\n- **Daily/Weekly strategies:** Fundamental data,\
    \ economic indicators, institutional data\n- **Intraday strategies:** Aggregates,\
    \ quotes, trades\n- **Avoid mixing:** Don't use tick data with quarterly fundamentals\n\
    \n### Data Lag Awareness\n\n- **Fundamental data:** 45+ days after quarter end\n\
    - **Form 13F:** 45 days after quarter end\n- **Insider trading:** 2 business days\
    \ after transaction\n- **Economic indicators:** Varies by series (check FRED publication\
    \ schedule)\n\n### Performance Considerations\n\n- **Tick data (quotes/trades):**\
    \ Use narrow date ranges, very high memory usage\n- **Fundamental data:** Low\
    \ frequency, small datasets, minimal performance impact\n- **FRED data:** Values\
    \ only on publication dates (sparse), minimal impact\n\n### Data Availability\n\
    \n- **Balance sheet, income, cash flow:** US equities with SEC filings\n- **Insider\
    \ trading:** US equities, officers/directors/10%+ owners\n- **Form 13F:** Institutions\
    \ with $100M+ AUM\n- **FRED:** US economic data, some international series\n-\
    \ **Polygon data:** Depends on subscription tier\n\n### Connection Requirements\n\
    \n- **economic\\_indicator:** Must connect to `market_data_source` for date range\n\
    - **form13f\\_holdings, insider\\_trading:** Require `timeframe` parameter\n-\
    \ **Polygon sources (balance\\_sheet, income\\_statement, etc.):** Independent,\
    \ no connection required\n\n### FRED Data Special Considerations\n\nFRED economic\
    \ indicators appear **only on publication dates** and are **not forward-filled**.\
    \ This means:\n\n- Values will be null/missing on most days\n- You need to handle\
    \ missing data in your strategy\n- Use lag operators or lookback to access last\
    \ published value\n- Be aware of publication schedules (monthly CPI, quarterly\
    \ GDP, etc.)\n\n## Summary Table\n\n| Data Source | Type | Frequency | Lag | Connection\
    \ Required |\n|-------------|------|-----------|-----|---------------------|\n\
    | `market_data_source` | Price | Any | None | No |\n| `vwap` | Price | Any | None\
    \ | No (requires 'vw' from provider) |\n| `trade_count` | Volume | Any | None\
    \ | No (requires 'n' from provider) |\n| `balance_sheet` | Fundamental | Quarterly\
    \ | 45+ days | No |\n| `income_statement` | Fundamental | Quarterly | 45+ days\
    \ | No |\n| `cash_flow` | Fundamental | Quarterly | 45+ days | No |\n| `financial_ratios`\
    \ | Fundamental | Quarterly | 45+ days | No |\n| `common_indices` | Index | Daily/Intraday\
    \ | None | Yes (to market\\_data\\_source) |\n| `indices` | Index | Daily/Intraday\
    \ | None | Yes (to market\\_data\\_source) |\n| `us_reference_stocks` | Reference\
    \ | Daily/Intraday | None | Yes (to market\\_data\\_source) |\n| `quotes` | Microstructure\
    \ | Tick | None | No |\n| `trades` | Microstructure | Tick | None | No |\n| `economic_indicator`\
    \ | Macro | Varies | Varies | Yes (to market\\_data\\_source) |\n| `form13f_holdings`\
    \ | Institutional | Quarterly | 45 days | No (but needs timeframe) |\n| `insider_trading`\
    \ | Insider | Transaction | 2 days | No (but needs timeframe) |\n\n## See Also\n\
    \n- [Timeframes](/docs/concepts/timeframes) - Multi-timeframe analysis\n- [Cross-Sectional](/docs/concepts/cross-sectional)\
    \ - Factor strategies across universes\n- [Research](/docs/concepts/research)\
    \ - Analyzing data sources\n"
  filename: public_documentation/epochscript/concepts/data-sources.md
- content: '---


    title: Core Concepts

    page\_type: overview

    layout: grid

    order: 3

    category: Core Concepts

    description: Core capabilities - timeframes, sessions, and cross-sectional analysis

    parent: ../index.md

    -------------------


    # Core Concepts


    Strategic capabilities for multi-timeframe analysis, intraday session filtering,
    multi-asset ranking, and diverse data sources.

    '
  filename: public_documentation/epochscript/concepts/index.md
- content: "---\n\ntitle: Price Action Analysis\npage\\_type: concept\nlayout: default\n\
    order: 4\ncategory: Core Concepts\ndescription: Smart money concepts, chart patterns,\
    \ candlesticks, and market structure analysis\nparent: ./index.md\n------------------\n\
    \n# Price Action Analysis\n\nBuild sophisticated market structure strategies with\
    \ 30+ specialized price action transforms.\n\n---\n\n## What You Can Build\n\n\
    EpochScript includes institutional-grade price action analysis across five categories:\n\
    \n| Category | What You Get |\n|----------|--------------|\n| **Smart Money Concepts**\
    \ | Order blocks, fair value gaps, BOS/CHoCH, liquidity sweeps, retracements |\n\
    | **Chart Formations** | Head & shoulders, triangles, flags, pennants, consolidation\
    \ boxes |\n| **Candlestick Patterns** | 25+ patterns - hammers, engulfing, stars,\
    \ dojis, soldiers, crows |\n| **Gap Analysis** | Session gaps, intraday halts,\
    \ forex pip gaps with fill tracking |\n| **Support/Resistance** | Multi-level\
    \ pivot points, swing detection, previous high/low breaks |\n\n---\n\n## Smart\
    \ Money Concepts (ICT)\n\nTrade like institutions - track order flow, market structure,\
    \ and liquidity manipulation.\n\n### Build a Liquidity Sweep Strategy\n\nClassic\
    \ SMC setup: wait for liquidity sweep \u2192 price returns to order block \u2192\
    \ enter on reaction.\n\n```python\nsrc = market_data_source(timeframe=\"15Min\"\
    )\n\n# Detect market structure\nswings = swing_highs_lows(swing_length=5)(src.h,\
    \ src.l)\nliq = liquidity(range_percent=0.02)(swings.high_low, swings.level)\n\
    ob = order_blocks()(swings.high_low, swings.level)\n\n# Liquidity taken above\
    \ swing highs\nliquidity_swept = liq.swept != 0\n\n# Price returns to bullish\
    \ order block\nat_order_block = (ob.ob == 1) and (src.c >= ob.bottom) and (src.c\
    \ <= ob.top)\n\n# Entry on bullish reaction at block after sweep\nswept_recently\
    \ = liquidity_swept[1] or liquidity_swept[2] or liquidity_swept[3]\nentry = swept_recently\
    \ and at_order_block and (src.c > src.o)\n```\n\n---\n\n### Detect Fair Value\
    \ Gaps (FVG)\n\nPrice imbalances that often act as support/resistance when revisited.\n\
    \n```python\nsrc = market_data_source(timeframe=\"5Min\")\n\nfvg = fair_value_gap(join_consecutive=True)()\n\
    gap_mid = (fvg.top + fvg.bottom) / 2\n\n# Price enters bullish FVG and reacts\n\
    at_fvg = (fvg.fvg == 1) and (src.c <= gap_mid)\nentry = at_fvg and (src.c > src.o)\
    \ and (src.c > src.c[1])\n```\n\n---\n\n### Track Market Structure Shifts\n\n\
    BOS (Break of Structure) = trend continuation. CHoCH (Change of Character) = potential\
    \ reversal.\n\n```python\nsrc = market_data_source(timeframe=\"1H\")\n\nswings\
    \ = swing_highs_lows(swing_length=10)(src.h, src.l)\nstructure = bos_choch(close_break=true)(swings.high_low,\
    \ swings.level)\n\n# Trend continuation signals\nbullish_bos = structure.bos ==\
    \ 1\nbearish_bos = structure.bos == -1\n\n# Reversal warnings\nbullish_choch =\
    \ structure.choch == 1\nbearish_choch = structure.choch == -1\n\n# Confirm reversal\
    \ with follow-through\nbos_recently = (structure.bos == 1)[1] or (structure.bos\
    \ == 1)[2] or (structure.bos == 1)[3] or (structure.bos == 1)[4] or (structure.bos\
    \ == 1)[5]\nreversal_confirmed = bullish_choch and bos_recently\n```\n\n---\n\n\
    ### Golden Pocket Retracements\n\nFibonacci retracements calculated automatically\
    \ from swing points.\n\n```python\nsrc = market_data_source(timeframe=\"1H\")\n\
    \nswings = swing_highs_lows(swing_length=10)(src.h, src.l)\nretr = retracements()(swings.high_low,\
    \ swings.level)\n\n# 61.8% - 78.6% retracement zone\ngolden_pocket = (retr.current_retracement\
    \ >= 61.8) and (retr.current_retracement <= 78.6)\n\noptimal_entry = golden_pocket\
    \ and (retr.direction == 1)\n```\n\n---\n\n### Full SMC Multi-Confluence System\n\
    \nCombine order blocks, FVG, liquidity, structure, and retracements.\n\n```python\n\
    src = market_data_source(timeframe=\"15Min\")\n\nswings = swing_highs_lows(swing_length=5)(src.h,\
    \ src.l)\nstructure = bos_choch(close_break=true)(swings.high_low, swings.level)\n\
    ob = order_blocks(close_mitigation=false)(swings.high_low, swings.level)\nfvg\
    \ = fair_value_gap(join_consecutive=True)()\nliq = liquidity(range_percent=0.02)(swings.high_low,\
    \ swings.level)\nretr = retracements()(swings.high_low, swings.level)\n\n# Score\
    \ each confluence factor\nconfirmations = (structure.bos == 1 ? 1 : 0) +\n   \
    \             ((ob.ob == 1 and ob.mitigated_index == 0) ? 1 : 0) +\n         \
    \       ((fvg.fvg == 1 and src.c >= fvg.bottom) ? 1 : 0) +\n                (liq.swept[1:5]\
    \ != 0 ? 1 : 0) +\n                (retr.current_retracement >= 50 and retr.current_retracement\
    \ <= 70 ? 1 : 0)\n\n# Require 3+ confirmations\nentry = confirmations >= 3\n```\n\
    \n---\n\n## Chart Formations\n\nAutomated detection for classical technical patterns.\n\
    \n### Head & Shoulders\n\n```python\nsrc = market_data_source(timeframe=\"1D\"\
    )\n\n# Bearish reversal\nhs = head_and_shoulders(lookback=50, head_ratio_before=1.0002)()\n\
    bearish_signal = hs.pattern_detected and (src.c < hs.neckline_level)\ntarget =\
    \ hs.target\n\n# Bullish reversal (inverse)\nihs = inverse_head_and_shoulders(lookback=50)()\n\
    bullish_signal = ihs.pattern_detected and (src.c > ihs.neckline_level)\n```\n\n\
    ---\n\n### Triangles & Compression Patterns\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Ascending triangle (bullish bias)\nasc_tri = triangles(lookback=50,\
    \ triangle_type=\"Ascending (Bullish)\", r_squared_min=0.9)()\nbreakout_up = asc_tri.pattern_detected\
    \ and (src.c > src.h[1])\n\n# Symmetrical triangle (neutral - wait for direction)\n\
    sym_tri = triangles(lookback=50, triangle_type=\"Symmetrical (Neutral)\")()\n\
    ```\n\n**Triangle types:** `\"ascending\"`, `\"descending\"`, `\"symmetrical\"\
    `\n\n---\n\n### Flags, Pennants & Consolidation Boxes\n\n```python\nsrc = market_data_source(timeframe=\"\
    1H\")\n\n# Bull flag - continuation pattern\nflag_pattern = flag(lookback=30,\
    \ min_pivot_points=3, r_squared_min=0.8)()\nbull_flag_break = flag_pattern.bull_flag\
    \ and (src.c > src.h[1])\n\n# Pennant - short-term consolidation\npennant_pattern\
    \ = pennant(lookback=20, min_pivot_points=3)()\nbreakout = pennant_pattern.bull_pennant\
    \ and (src.c > src.h[1])\n\n# Consolidation box (rectangle)\nbox = consolidation_box(lookback=50,\
    \ min_pivot_points=5, r_squared_min=0.8)()\nbullish_break = box.box_detected and\
    \ (src.c > box.box_top)\ntarget = box.target_up\n```\n\n---\n\n### Double Tops\
    \ & Bottoms\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# Double\
    \ bottom (bullish reversal)\ndb = double_top_bottom(lookback=50, pattern_type=\"\
    Double Bottom Only\", similarity_tolerance=0.02)()\nbullish_breakout = db.pattern_detected\
    \ and (src.c > db.breakout_level)\n\n# Double top (bearish reversal)\ndt = double_top_bottom(lookback=50,\
    \ pattern_type=\"Double Top Only\", similarity_tolerance=0.02)()\nbearish_breakout\
    \ = dt.pattern_detected and (src.c < dt.breakout_level)\n```\n\n---\n\n## Candlestick\
    \ Patterns\n\n25+ Japanese candlestick patterns ready to use.\n\n### Build a Multi-Pattern\
    \ Reversal Detector\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\n\
    \n# Bullish reversals at support\nbullish_reversal = hammer() or engulfing_bull()\
    \ or morning_star() or inverted_hammer()\n\n# Bearish reversals at resistance\n\
    bearish_reversal = engulfing_bear() or evening_star() or hanging_man()\n\n# Indecision\
    \ at extremes\nindecision = doji() or long_legged_doji() or spinning_top()\n\n\
    # Combine with RSI extremes\nrsi_val = rsi(period=14)(src.c)\nbuy_signal = bullish_reversal\
    \ and (rsi_val < 30)\nsell_signal = bearish_reversal and (rsi_val > 70)\n```\n\
    \n---\n\n### Continuation Pattern Filters\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Define buy/sell conditions\nrsi_val = rsi(period=14)(src.c)\nbuy_conditions\
    \ = rsi_val < 30\nsell_conditions = rsi_val > 70\n\n# Strong trend continuation\n\
    strong_uptrend = three_white_soldiers() or big_white_candle()\nstrong_downtrend\
    \ = three_black_crows() or big_black_candle()\n\n# Only enter with-trend when\
    \ continuation patterns appear\nlong_entry = buy_conditions and strong_uptrend\n\
    short_entry = sell_conditions and strong_downtrend\n```\n\n**Available patterns:**\
    \ `hammer`, `inverted_hammer`, `shooting_star`, `hanging_man`, `engulfing_bull`,\
    \ `engulfing_bear`, `morning_star`, `evening_star`, `morning_doji_star`, `evening_doji_star`,\
    \ `doji`, `dragonfly_doji`, `gravestone_doji`, `long_legged_doji`, `four_price_doji`,\
    \ `spinning_top`, `marubozu`, `white_marubozu`, `black_marubozu`, `big_white_candle`,\
    \ `big_black_candle`, `three_white_soldiers`, `three_black_crows`, `abandoned_baby_bull`,\
    \ `abandoned_baby_bear`, and more.\n\n---\n\n## Gap Analysis\n\nTrack overnight\
    \ gaps, trading halts, and forex pip gaps.\n\n### Session Gap Fade Strategy\n\n\
    ```python\nsrc = market_data_source(timeframe=\"5Min\")\n\ngaps = session_gap(fill_percent=100,\
    \ timeframe=\"1Min\")()\n\n# Fade large gaps that get filled\nsignificant_gap\
    \ = gaps.gap_size > 1.0\ngap_filled = gaps.gap_filled\nentry = significant_gap\
    \ and gap_filled\n\n# Research which gaps fill fastest\ngap_report(fill_time_pivot_hour=12,\
    \ histogram_bins=15)(\n    gaps.gap_filled,\n    gaps.gap_retrace,\n    gaps.gap_size,\n\
    \    gaps.psc,\n    gaps.psc_timestamp\n)\n```\n\n---\n\n### Intraday Trading\
    \ Halt Detection\n\n```python\nsrc = market_data_source(timeframe=\"5Min\")\n\n\
    # Detect gaps >2% between ANY bars\nintraday_gaps = bar_gap(fill_percent=100,\
    \ min_gap_size=2.0)()\n\n# Large gaps likely from halts or news\nhalt_gaps = intraday_gaps.gap_size\
    \ > 5.0\n```\n\n---\n\n### Forex Pip Gaps\n\n```python\nsrc = market_data_source(timeframe=\"\
    1Min\")\n\n# Track 4-pip gaps on EUR/USD\nfx_gaps = bar_gap(fill_percent=100,\
    \ min_gap_size=0.04)()\nquick_fill = fx_gaps.gap_filled and (fx_gaps.gap_retrace\
    \ == 1.0)\n```\n\n---\n\n## Support & Resistance\n\n### Pivot Point Levels\n\n\
    ```python\nsrc = market_data_source(timeframe=\"1H\")\n\npivots = pivot_point_sr(timeframe=\"\
    1D\")()\n\n# Three support, three resistance levels\nat_s1 = src.c <= pivots.support_1\n\
    at_r1 = src.c >= pivots.resist_1\n\n# Reversal at support with confirmation\n\
    reversal = at_s1 and hammer()\n```\n\n---\n\n### Previous High/Low Breakouts\n\
    \n```python\nsrc = market_data_source(timeframe=\"5Min\")\n\nprev_hl = previous_high_low(timeframe=\"\
    1D\")()\n\n# First break of previous day's high\nbreakout_high = prev_hl.broken_high\
    \ and not prev_hl.broken_high[1]\n\n# Range-bound mean reversion\nin_range = not\
    \ prev_hl.broken_high and not prev_hl.broken_low\nfade_high = in_range and (src.c\
    \ > prev_hl.previous_high)\n```\n\n---\n\n## Complete Multi-Strategy System\n\n\
    Combine everything for maximum confluence.\n\n```python\nsrc = market_data_source(timeframe=\"\
    15Min\")\n\n# SMART MONEY\nswings = swing_highs_lows(swing_length=5)(src.h, src.l)\n\
    ob = order_blocks()(swings.high_low, swings.level)\nfvg = fair_value_gap(join_consecutive=True)()\n\
    structure = bos_choch(close_break=true)(swings.high_low, swings.level)\nliq =\
    \ liquidity(range_percent=0.02)(swings.high_low, swings.level)\n\n# CHART PATTERNS\n\
    ihs = inverse_head_and_shoulders(lookback=50)()\nflag_pattern = flag(lookback=30)()\n\
    box = consolidation_box(lookback=50, min_pivot_points=5)()\n\n# CANDLESTICKS\n\
    hammer_candle = hammer()()\nengulfing = engulfing_bull()()\n\n# GAPS & PIVOTS\n\
    gaps = session_gap(fill_percent=100, timeframe=\"1Min\")()\npivots = pivot_point_sr(timeframe=\"\
    1D\")()\n\n# CONFLUENCE SCORING\nob_signal = 1 if (ob.ob == 1) else 0\nbos_signal\
    \ = 1 if (structure.bos == 1) else 0\nfvg_signal = 1 if (fvg.fvg == 1) else 0\n\
    liq_swept_recently = liq.swept[1] != 0 or liq.swept[2] != 0 or liq.swept[3] !=\
    \ 0\nliq_signal = 1 if liq_swept_recently else 0\nsmc_score = ob_signal + bos_signal\
    \ + fvg_signal + liq_signal\n\npattern_signal = 2 if (ihs.pattern_detected or\
    \ flag_pattern.bull_flag) else 0\ncandle_signal = 1 if (hammer_candle or engulfing)\
    \ else 0\npattern_score = pattern_signal + candle_signal\n\nlevel_score = 1 if\
    \ (src.c <= pivots.support_1) else 0\n\ntotal_score = smc_score + pattern_score\
    \ + level_score\n\n# High-probability entries require 5+ points\nentry = total_score\
    \ >= 5\n\n# Mark significant patterns on timeline\npattern_event = ihs.pattern_detected\
    \ or flag_pattern.bull_flag\ngap_fill_event = gaps.gap_filled and (gaps.gap_size\
    \ > 1.0)\nliq_sweep_event = liq.swept != 0\ngap_unfill_event = (gaps.gap_size\
    \ > 1.0) and not gaps.gap_filled\nany_event = pattern_event | gap_fill_event |\
    \ liq_sweep_event | gap_unfill_event\n\nevent_type = conditional_select(\n   \
    \ pattern_event, \"pattern_detected\",\n    gap_fill_event, \"gap_filled\",\n\
    \    liq_sweep_event, \"liquidity_sweep\",\n    gap_unfill_event, \"gap_unfilled\"\
    )\n\nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n        title=\"\
    Price Action Events\",\n        select_key=SLOT0,\n        icon=Signal,\n    \
    \    schemas=[\n            CardColumnSchema(\n                column_id=SLOT1,\n\
    \                slot=PrimaryBadge,\n                render_type=Badge,\n    \
    \            color_map={\n                    Success: [\"pattern_detected\",\
    \ \"gap_filled\"],\n                    Warning: [\"liquidity_sweep\"],\n    \
    \                Error: [\"gap_unfilled\"]\n                }\n            )\n\
    \        ]\n    )\n)(any_event, event_type)\n```\n\n---\n\n## Strategy Ideas\n\
    \n**Institutional Flow:**\n\n- Liquidity sweep \u2192 order block retest \u2192\
    \ FVG confluence \u2192 entry\n- BOS confirmation \u2192 retracement to golden\
    \ pocket \u2192 enter on structure\n\n**Pattern Breakouts:**\n\n- Triangle compression\
    \ \u2192 volume expansion \u2192 breakout confirmation\n- Consolidation box \u2192\
    \ multi-timeframe alignment \u2192 breakout trade\n\n**Gap Trading:**\n\n- Session\
    \ gap >1% \u2192 track fill behavior \u2192 fade on completion\n- Intraday halt\
    \ gaps \u2192 wait for resumption \u2192 momentum play\n\n**Multi-Timeframe:**\n\
    \n- Daily chart patterns \u2192 hourly order blocks \u2192 15min entry signals\n\
    - Weekly structure \u2192 daily candlesticks \u2192 intraday execution\n\n---\n\
    \n**Next:** [Statistical Analysis \u2192](./statistical-analysis)\n"
  filename: public_documentation/epochscript/concepts/price-action.md
- content: "---\n\ntitle: Research Reports\npage\\_type: implementation\nlayout: default\n\
    order: 3\ncategory: Concepts\ndescription: Interactive dashboards for strategy\
    \ analysis and discovery\nparent: ./index.md\n------------------\n\n# Research\
    \ Reports\n\nGenerate interactive dashboards to analyze strategy behavior, detect\
    \ patterns, and validate hypotheses.\n\n---\n\n## Report Categories\n\n### Card\
    \ Reports\n\nDisplay aggregated metrics as dashboard cards.\n\n#### Numeric Cards\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\")\nreturns = roc(period=1)(src.c)\n\
    \n# Single metric card\nnumeric_cards_report(agg=\"mean\", category=\"Performance\"\
    , title=\"Avg Daily Return\")(returns)\n\n# Multiple metrics in one category\n\
    numeric_cards_report(agg=\"mean\", category=\"Stats\", title=\"Mean\", group=0,\
    \ group_size=3)(returns)\nnumeric_cards_report(agg=\"stddev\", category=\"Stats\"\
    , title=\"Volatility\", group=0, group_size=3)(returns)\nnumeric_cards_report(agg=\"\
    max\", category=\"Stats\", title=\"Max Return\", group=0, group_size=3)(returns)\n\
    ```\n\n**Aggregations:** `mean`, `sum`, `min`, `max`, `stddev`, `variance`, `first`,\
    \ `last`, `count`, `median`, `skew`, `kurtosis`\n\n#### Boolean Cards\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\nrsi_val = rsi(period=14)(src.c)\n\
    signal = crossover(rsi_val, 30)\nboolean_card_report(category=\"Signals\", title=\"\
    RSI Crossover Count\")(signal)\n```\n\n#### Index Cards\n\nShow specific rows\
    \ by index (first, last, percentiles).\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nreturns = roc(period=1)(src.c)\n# Filter high return days\nhigh_return_signal\
    \ = returns > 0.02\nindex_card_report(index=\"first\", category=\"Top Days\",\
    \ title=\"First Occurrence\")(returns)\n```\n\n#### Quantile Cards\n\nDisplay\
    \ quantile values (25th, 50th, 75th percentiles).\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nreturns = roc(period=1)(src.c)\nindex_card_report(index=\"p95\", category=\"\
    Risk\", title=\"95th Percentile Return\")(returns)\n```\n\n---\n\n### Chart Reports\n\
    \n#### Bar Charts\n\nCategorical comparisons and distributions.\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\nrsi_val = rsi(period=14)(src.c)\n\
    returns = roc(period=1)(src.c)\n\n# Distribution by regime\nregime = conditional_select(rsi_val\
    \ < 30, \"Oversold\", rsi_val > 70, \"Overbought\", \"Neutral\")\nbar_chart_report(agg=\"\
    count\", title=\"Bar Count by Regime\", category=\"Distribution\")(regime)\n\n\
    # Aggregate metrics by category\nbar_chart_report(agg=\"mean\", title=\"Avg Return\
    \ by Regime\", category=\"Performance\")(regime, returns)\n```\n\n**Aggregations:**\
    \ `count`, `sum`, `mean`, `first`, `last`, `min`, `max`\n\n#### Pie Charts\n\n\
    Proportional breakdowns.\n\n```python\n# Simple proportion\npie_chart_report(agg=\"\
    count\", title=\"Regime Distribution\", category=\"Analysis\")(regime)\n\n# Nested\
    \ pie (two-level hierarchy)\n# Sector categorization\nsector = conditional_select(rsi_val\
    \ < 20, \"A\", rsi_val < 40, \"B\", rsi_val < 60, \"C\", \"D\")\nnested_pie_chart_report(agg=\"\
    count\", title=\"Asset Distribution\", category=\"Breakdown\")(sector, regime)\n\
    ```\n\n#### Histograms\n\nValue distributions and frequency analysis.\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\nreturns = roc(period=1)(src.c)\nhistogram_chart_report(bins=30,\
    \ title=\"Return Distribution\", category=\"Stats\", vertical=False)(returns)\n\
    ```\n\n---\n\n### Table Reports\n\nFiltered row-level data with custom columns.\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\")\nrsi_val = rsi(period=14)(src.c)\n\
    returns = roc(period=1)(src.c)\n\n# Filter extreme conditions\nextreme = (rsi_val\
    \ < 30) | (rsi_val > 70)\nregime = conditional_select(rsi_val < 30, \"Oversold\"\
    , \"Overbought\")\n\n# Boolean filter (extreme)\ntable_report(schema=TableReportSchema(\n\
    \    title=\"RSI Extremes\",\n    select_key=SLOT0,\n    columns=[\n        TableColumnSchema(column_id=SLOT1,\
    \ title=\"Regime\"),\n        TableColumnSchema(column_id=SLOT2, title=\"RSI\"\
    ),\n        TableColumnSchema(column_id=SLOT3, title=\"Return %\")\n    ]\n))(extreme,\
    \ regime, rsi_val, returns)\n```\n\n**Key Points:**\n\n- `select_key`: Boolean\
    \ column for row filtering\n- Inputs map to `SLOT0`, `SLOT1`, `SLOT2`, etc. by\
    \ position\n- Only rows where `select_key` is `true` appear in table\n\n---\n\n\
    ### Specialized Reports\n\n#### Gap Report\n\nComprehensive gap analysis with\
    \ cards, histograms, and pivot tables.\n\n```python\ngaps = session_gap(fill_percent=100,\
    \ timeframe=\"1Min\")()\n\n# gap_filled: Boolean, gap_retrace: Boolean, gap_size:\
    \ Decimal, psc: Decimal, psc_timestamp: Timestamp\ngap_report(fill_time_pivot_hour=12,\
    \ histogram_bins=20)(\n    gaps.gap_filled,\n    gaps.gap_retrace,\n    gaps.gap_size,\n\
    \    gaps.psc,\n    gaps.psc_timestamp\n)\n```\n\n**Output:**\n\n- Summary cards:\
    \ fill rate, avg gap size, median fill time, total gaps\n- Histograms: gap size\
    \ distribution, fill time distribution\n- Pivot tables: gaps by hour, by day of\
    \ week, by size bucket\n- Detail table: timestamp, size, fill time, filled status\n\
    \n---\n\n## Cross-Sectional Reports\n\nMulti-asset comparison reports for factor\
    \ strategies.\n\n### CS Bar Chart\n\nCompare all assets in one chart.\n\n```python\n\
    # Sector performance comparison\nsrc = market_data_source(timeframe=\"1D\")  #\
    \ 11 sector ETFs\nreturns = roc(period=20)(src.c)\n\ncs_bar_chart_report(agg=\"\
    last\", title=\"20-Day Returns by Sector\", category=\"Performance\")(returns)\n\
    # One bar per sector: XLK, XLF, XLE, etc.\n```\n\n**Use Cases:**\n\n- Sector performance\
    \ rankings\n- Factor score comparisons\n- Multi-asset metrics side-by-side\n\n\
    ### CS Table\n\nAsset-by-metric table with aggregation (assets as columns).\n\n\
    ```python\nmomentum = roc(period=60)(src.c)\n\ncs_table_report(agg=\"last\", title=\"\
    Sector Momentum\", category=\"Analysis\")(momentum)\n# Table:       | XLK  | XLF\
    \ | XLE  | XLV | ...\n#       -------|------|-----|------|-----|----\n#      \
    \ Value  | +15% | +8% | -2%  | +5% | ...\n```\n\n**Aggregations:** `first`, `last`,\
    \ `mean`, `sum`, `min`, `max`\n\n### CS Numeric Cards\n\nCard group with one card\
    \ per asset.\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\nspx = common_indices(index=\"\
    SPX\")\n\n# Calculate returns\nreturns = roc(period=1)(src.c)\nspx_returns = roc(period=1)(spx.c)\n\
    \n# Calculate beta for each asset\nsector_beta = beta(window=60)(returns, spx_returns)\n\
    \ncs_numeric_cards_report(agg=\"last\", category=\"Beta Analysis\")(sector_beta)\n\
    # Creates 11 cards showing current beta for each sector\n```\n\n**Use Cases:**\n\
    \n- Multi-asset metric dashboards\n- Factor exposure visualization\n- Comparative\
    \ performance cards\n\n---\n\n## Research Workflows\n\n### Pattern Discovery\n\
    \n```python\n# Identify gap fill characteristics\ngaps = session_gap(fill_percent=100,\
    \ timeframe=\"1Min\")()\n\n# Distribution analysis\nhistogram_chart_report(bins=20,\
    \ title=\"Gap Size Distribution\", category=\"Research\")(gaps.gap_size)\n\n#\
    \ Detailed inspection\ngap_report(fill_time_pivot_hour=12)(\n    gaps.gap_filled,\
    \ gaps.gap_retrace, gaps.gap_size, gaps.psc, gaps.psc_timestamp\n)\n\n# Summary\
    \ card\nnumeric_cards_report(agg=\"count_all\", title=\"Total Gaps\", category=\"\
    Summary\", group=0, group_size=1)(gaps.gap_filled)\n```\n\n### Factor Analysis\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\", symbols=[\"XLK\", \"XLF\"\
    , \"XLE\", \"XLV\", \"XLI\", \"XLP\", \"XLY\", \"XLB\", \"XLU\", \"XLRE\", \"\
    XLC\"])\nspx = common_indices(index=\"SPX\")\n\n# Calculate factors\nmomentum\
    \ = cs_zscore()(roc(period=60)(src.c))\nvolatility = cs_zscore()(atr(period=14)(src.c))\n\
    \n# Compare momentum across assets\ncs_table_report(agg=\"last\", title=\"Momentum\
    \ Scores\", category=\"Cross-Sectional\")(momentum)\n\n# Visualize distributions\n\
    histogram_chart_report(bins=20, title=\"Momentum Distribution\", category=\"Research\"\
    )(momentum)\n\n# Summary card\ncs_numeric_cards_report(agg=\"last\", category=\"\
    Summary\", title=\"Latest Momentum\")(momentum)\n```\n\n### Regime Detection\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\", symbols=[\"AAPL\"])\n\
    returns = roc(period=1)(src.c)\n\nrsi_val = rsi(period=14)(src.c)\nregime = conditional_select(rsi_val\
    \ < 30, \"Oversold\", rsi_val > 70, \"Overbought\", \"Neutral\")\n\n# Proportion\
    \ analysis\npie_chart_report(agg=\"count\", title=\"Market Regime Distribution\"\
    , category=\"Research\")(regime)\n\n# Performance by regime\nbar_chart_report(agg=\"\
    mean\", title=\"Avg Return by Regime\", category=\"Research\")(regime, returns)\n\
    \n# Detailed regime table\nextreme = (rsi_val < 30) | (rsi_val > 70)\ntable_report(schema=TableReportSchema(\n\
    \    title=\"Extreme Conditions\",\n    select_key=SLOT0,\n    columns=[\n   \
    \     TableColumnSchema(column_id=SLOT1, title=\"Regime\"),\n        TableColumnSchema(column_id=SLOT2,\
    \ title=\"RSI\")\n    ]\n))(extreme, regime, rsi_val)\n\n# Summary card\nnumeric_cards_report(agg=\"\
    mean\", title=\"Avg RSI\", category=\"Summary\", group=0, group_size=1)(rsi_val)\n\
    ```\n\n---\n\n## See Also\n\n- [Core Features](./core-features) - Auto-plotting\
    \ and event markers\n- [Cross-Sectional Analysis](./cross-sectional) - Multi-asset\
    \ strategies\n"
  filename: public_documentation/epochscript/concepts/research.md
- content: "---\n\ntitle: Sessions\npage\\_type: concept\nlayout: default\norder:\
    \ 2\ncategory: Core Concepts\ndescription: Intraday session filtering and boundary\
    \ detection\nparent: ./index.md\n------------------\n\n# Sessions\n\nIntraday\
    \ session filtering and detection. Two modes: filter data to specific sessions\
    \ or detect session boundaries.\n\n---\n\n## Session Features\n\n| Feature | Purpose\
    \ | Usage |\n|---------|---------|-------|\n| **`session` parameter** | Filter\
    \ data to specific session | `ema(period=20, session=\"London\")(src.c)` |\n|\
    \ **`sessions()` transform** | Detect predefined session boundaries | `london\
    \ = sessions(session_type=\"London\")()` |\n| **`time_of_day()` transform** |\
    \ Detect custom time ranges | `morning = time_of_day(start=\"09:00\", end=\"12:00\"\
    )()` |\n\n---\n\n## Session Parameter (Data Filtering)\n\nExecute transform on\
    \ ONLY the bars within a specific trading session.\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# EMA calculated ONLY on London session bars\nlondon_ema = ema(period=20,\
    \ session=\"London\")(src.c)\n\n# RSI calculated ONLY on New York session bars\n\
    ny_rsi = rsi(period=14, session=\"NewYork\")(src.c)\n\n# Gap detection for Asian\
    \ session only\nasian_gaps = session_gap(fill_percent=100, session=\"AsianKillZone\"\
    )()\n```\n\n**Use cases:**\n\n- Session-specific indicators (London volatility,\
    \ NY volume)\n- Isolate trading to high-liquidity periods\n- Compare behavior\
    \ across sessions\n\n---\n\n## sessions() Transform (Session Detection)\n\nMark\
    \ session boundaries and track session high/low.\n\n**Syntax:**\n\n```python\n\
    session = sessions(session_type=\"session_name\")()\n```\n\n**Outputs:**\n\n-\
    \ `active` - Boolean: True during session\n- `high` - Decimal: Session high price\n\
    - `low` - Decimal: Session low price\n- `opened` - Boolean: True on session open\
    \ bar\n- `closed` - Boolean: True on session close bar\n\n**Example:**\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\nlondon = sessions(session_type=\"\
    London\")()\n\n# Define bullish condition\nfast_ema = ema(period=12)(src.c)\n\
    slow_ema = ema(period=26)(src.c)\nbullish_condition = fast_ema > slow_ema\n\n\
    # Trade only during London session\nin_session = london.active\nentry = bullish_condition\
    \ and in_session\n\n# Breakout from session range\nbreakout_high = src.c > london.high\n\
    breakout_low = src.c < london.low\n\n# Exit at session close\nexit_signal = london.closed\n\
    ```\n\n---\n\n## time\\_of\\_day() Transform (Custom Time Ranges)\n\nDefine custom\
    \ UTC time ranges for intraday filtering.\n\n**Syntax:**\n\n```python\nperiod\
    \ = time_of_day(start=\"HH:MM\", end=\"HH:MM\")()\n```\n\n**Example:**\n\n```python\n\
    src = market_data_source(timeframe=\"1H\")\n\n# Morning period: 09:00-12:00 UTC\n\
    morning = time_of_day(start=\"09:00\", end=\"12:00\")()\n\n# Use same outputs\
    \ as sessions()\nis_morning = morning.active\nmorning_high = morning.high\nmorning_low\
    \ = morning.low\n```\n\n**Key differences from `sessions()`:**\n\n- Custom time\
    \ ranges (not predefined)\n- All times in UTC (no DST handling)\n- Same 5 outputs:\
    \ `active`, `opened`, `closed`, `high`, `low`\n\n---\n\n## Available Sessions\n\
    \n### Geographic Sessions\n\n```text\n\"Sydney\"    # Sydney, Australia (5 PM\
    \ - 2 AM ET*)\n\"Tokyo\"     # Tokyo, Japan (7 PM - 4 AM ET*)\n\"London\"    #\
    \ London, UK (3 AM - 12 PM ET*)\n\"NewYork\"   # New York, USA (8 AM - 5 PM ET*)\n\
    \n* Times in EST; add 1 hour during EDT (daylight saving)\n```\n\n### Kill Zones\
    \ (ICT - High Liquidity Periods)\n\n```text\n\"AsianKillZone\"         # 19:00-23:00\
    \ ET\n\"LondonOpenKillZone\"    # 02:00-05:00 ET\n\"NewYorkKillZone\"       #\
    \ 07:00-10:00 ET\n\"LondonCloseKillZone\"   # 10:00-12:00 ET\n```\n\n---\n\n##\
    \ Combined Session + TimeFrame\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Daily bars, but only from New York session data\ndaily_ny_src = market_data_source(\n\
    \    timeframe=\"1D\",\n    session=\"NewYork\"\n)()\ndaily_ny = daily_ny_src.c\n\
    \n# Hourly EMA, London session only\nhourly_london = ema(\n    period=20,\n  \
    \  timeframe=\"1H\",\n    session=\"London\"\n)(src.c)\n```\n\n**Execution order:**\n\
    \n1. Filter by `session` (if specified)\n2. Resample to `timeframe` (if specified)\n\
    3. Execute transform\n\n---\n\n## Requirements\n\n---\n\n## See Also\n\n- [Timeframes](./timeframes)\
    \ - Combine sessions with multi-timeframe analysis\n- [Design Guidelines](../design-guidelines)\
    \ - Session validation errors\n"
  filename: public_documentation/epochscript/concepts/sessions.md
- content: "---\n\ntitle: Statistical Analysis\npage\\_type: concept\nlayout: default\n\
    order: 4\ncategory: Core Concepts\ndescription: Statistical and machine learning\
    \ transforms for regime detection, correlation analysis, and market characterization\n\
    parent: ./index.md\n------------------\n\n# Statistical Analysis\n\nStatistical\
    \ and machine learning transforms for regime detection, correlation analysis,\
    \ mean reversion detection, and cross-asset relationships.\n\n---\n\n## Hidden\
    \ Markov Models\n\nGaussian Hidden Markov Models for detecting market regimes\
    \ and state transitions. Available in 2-5 state variants: `hmm_2`, `hmm_3`, `hmm_4`,\
    \ `hmm_5`.\n\n### `hmm_2` - Binary Regime Detection\n\nTwo-state HMM for bull/bear\
    \ or high/low volatility classification.\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Features for regime detection\nreturns = roc(period=1)(src.c)\nvolatility\
    \ = atr(period=14)(src.c)\n\n# Detect 2 regimes (e.g., bull/bear)\nregime = hmm_2()(returns,\
    \ volatility)\n\n# Access outputs - each state probability is a scalar!\ncurrent_state\
    \ = regime.state           # Most likely state (0 or 1)\nstate_0_prob = regime.state_0_prob\
    \    # Probability of state 0\nstate_1_prob = regime.state_1_prob    # Probability\
    \ of state 1\n\n# Example: High-confidence filtering\nhigh_confidence = state_0_prob\
    \ > 0.8\nrsi_val = rsi(period=14)(src.c)\nma_signal = crossover(rsi_val, 30)\n\
    signal = ma_signal & high_confidence\n```\n\n### `hmm_3` - Tri-Regime Detection\n\
    \nThree-state HMM for low/medium/high volatility or bull/neutral/bear markets.\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# Features for regime\
    \ detection\nreturns = roc(period=1)(src.c)\nvolatility = atr(period=14)(src.c)\n\
    volume_ratio = src.v / ema(period=20)(src.v)\n\n# Detect 3 market regimes\nregime\
    \ = hmm_3()(returns, volatility, volume_ratio)\n\n# Access outputs - all probabilities\
    \ are scalar columns!\ncurrent_state = regime.state           # Most likely state\
    \ (0, 1, or 2)\nstate_0_prob = regime.state_0_prob    # Probability of state 0\n\
    state_1_prob = regime.state_1_prob    # Probability of state 1\nstate_2_prob =\
    \ regime.state_2_prob    # Probability of state 2\n\n# Example: Confidence-based\
    \ filtering\nmax_prob = agg_max()(state_0_prob, state_1_prob, state_2_prob)\n\
    low_confidence = max_prob < 0.6  # Uncertain regime\nrsi_val = rsi(period=14)(src.c)\n\
    ma_signal = crossover(rsi_val, 30)\nsignal = ma_signal & not low_confidence\n\
    ```\n\n### `hmm_4` / `hmm_5` - Higher Granularity\n\nFour and five-state HMMs\
    \ for detailed regime classification (requires more data).\n\n```python\nsrc =\
    \ market_data_source(timeframe=\"1D\")\n\nreturns = roc(period=1)(src.c)\nvolatility\
    \ = stdev(window=20)(returns)\nvolume_ratio = src.v / sma(period=20)(src.v)\n\
    momentum = roc(period=20)(src.c)\n\n# 4-state example\nregime = hmm_4(min_training_samples=500)(returns,\
    \ volatility, volume_ratio, momentum)\n# Access state_0_prob through state_3_prob\n\
    ```\n\n**How It Works:**\n\n- Trains Gaussian HMM on multiple input features\n\
    - Infers hidden states (regimes) from observable data\n- Returns state probabilities\
    \ as **individual scalar columns** (usable in expressions!)\n- Each `hmm_N` variant\
    \ is compile-time optimized for N states\n\n**Key Improvements:**\n\n- \u2705\
    \ State probabilities are now scalar columns, not lists\n- \u2705 Can use in expressions:\
    \ `state_0_prob > 0.8`, `state_1_prob - state_2_prob`\n- \u2705 No more `n_states`\
    \ parameter - use the right variant (`hmm_2`, `hmm_3`, etc.)\n\n**Common Parameters:**\n\
    \n- `min_training_samples`: Minimum data before training (default: 100, recommend\
    \ 200+ for 3+ states)\n- `lookback_window`: If >0, trains on last N samples for\
    \ rolling HMM (default: 0 = all data)\n- `compute_zscore`: Normalize features\
    \ before training (default: true, recommended)\n- `max_iterations`: EM algorithm\
    \ iterations (default: 1000)\n- `tolerance`: Convergence threshold (default: 1e-5)\n\
    \n---\n\n## Correlation & Covariance\n\nMeasure relationships between two series.\n\
    \n### `rolling_corr` / `ewm_corr`\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nspx = common_indices(index=\"SPX\")\n\nstock_returns = roc(period=1)(src.c)\n\
    spx_returns = roc(period=1)(spx.c)\n\n# Fixed window\ncorrelation = rolling_corr(window=60)(stock_returns,\
    \ spx_returns)\n# Range: -1 (perfect negative) to +1 (perfect positive)\n\n# Exponential\
    \ weighted (more responsive)\ncorrelation_ewm = ewm_corr(span=30)(stock_returns,\
    \ spx_returns)\n```\n\n### `rolling_cov` / `ewm_cov`\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nspx = common_indices(index=\"SPX\")()\n\nstock_returns = roc(period=1)(src.c)\n\
    spx_returns = roc(period=1)(spx.c)\n\n# Covariance for portfolio variance calculations\n\
    covariance = rolling_cov(window=60)(stock_returns, spx_returns)\n```\n\n### `beta`\
    \ - Market Sensitivity\n\n```python\nsrc = market_data_source(timeframe=\"1D\"\
    )\nspx = common_indices(index=\"SPX\")()\n\nstock_returns = roc(period=1)(src.c)\n\
    spx_returns = roc(period=1)(spx.c)\n\n# Calculate rolling beta\nbeta_val = beta(window=60)(stock_returns,\
    \ spx_returns)\n# Beta > 1: More volatile than market\n# Beta < 1: Less volatile\
    \ than market\n# Beta = 1: Matches market volatility\n```\n\n**Difference:**\n\
    \n- **Correlation**: Normalized to \\[-1, +1], scale-independent\n- **Covariance**:\
    \ Unnormalized, used in portfolio variance calculations\n- **Beta**: `cov(asset,\
    \ market) / var(market)`, measures market sensitivity\n\n---\n\n## Normalization\n\
    \n### `zscore` - Time-Series Z-Score\n\nNormalize values **over time** for a single\
    \ asset.\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\nreturns = roc(period=1)(src.c)\n\
    \n# Rolling z-score: (value - rolling_mean) / rolling_std\nz = zscore(window=20)(returns)\n\
    # Measures how many std devs current value is from rolling mean\n```\n\n**IMPORTANT:**\
    \ This normalizes **over TIME** for one asset. For normalizing **across ASSETS**\
    \ at each timestamp, use `cs_zscore` (see [Cross-Sectional Analysis](./cross-sectional)).\n\
    \n---\n\n## Mean Reversion Analysis\n\n### `hurst_exponent` - Trend vs Mean Reversion\n\
    \nMeasures whether a series exhibits trending or mean-reverting behavior.\n\n\
    ```python\nsrc = market_data_source(timeframe=\"1D\")\nreturns = roc(period=1)(src.c)\n\
    \n# Calculate Hurst exponent\nhurst = hurst_exponent(min_period=100)(returns)\n\
    \n# Time-varying version\nrolling_h = rolling_hurst_exponent(window=100)(returns)\n\
    ```\n\n**Interpretation:**\n\n- **H \\< 0.5**: Mean reverting behavior\n- **H\
    \ = 0.5**: Random walk (no predictability)\n- **H > 0.5**: Trending behavior\n\
    \n---\n\n## See Also\n\n- [Cross-Sectional Analysis](./cross-sectional) - Multi-asset\
    \ statistical transforms\n- [Research Reports](./research) - Visualize statistical\
    \ metrics\n"
  filename: public_documentation/epochscript/concepts/statistical-analysis.md
- content: "---\n\ntitle: Timeframes\npage\\_type: concept\nlayout: default\norder:\
    \ 1\ncategory: Core Concepts\ndescription: Multi-timeframe analysis with automatic\
    \ data resampling\nparent: ./index.md\n------------------\n\n# Timeframes\n\n\
    Multi-timeframe analysis through automatic data resampling. Execute transforms\
    \ on any timeframe regardless of strategy base resolution.\n\n---\n\n## Syntax\n\
    \n```python\ntransform(period=N, timeframe=\"TF\")(input)\n```\n\nThe framework\
    \ automatically resamples data to the specified timeframe before transform execution.\n\
    \n**Example:**\n\n```python\n# Strategy runs on 15Min bars\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Calculate on daily timeframe (auto-resampled)\ndaily_ema = ema(period=50,\
    \ timeframe=\"1D\")(src.c)\n\n# Compare intraday price vs daily trend\nabove_trend\
    \ = src.c > daily_ema\n```\n\n---\n\n## Standard Timeframes\n\n### Intraday\n\n\
    ```python\n\"1Min\", \"2Min\", \"3Min\"     # 1-3 minutes\n\"5Min\", \"10Min\"\
    \            # 5-10 minutes\n\"15Min\", \"30Min\", \"45Min\"  # 15-45 minutes\n\
    \"1H\", \"2H\", \"3H\", \"4H\"     # 1-4 hours\n```\n\n### Daily and Above\n\n\
    ```python\n\"1D\"                       # 1 day\n\"1W-MON\", \"1W-FRI\"      \
    \  # Week (Monday/Friday start)\n\"1ME\", \"1MS\"              # Month end/start\n\
    \"1QE\", \"1QS\"              # Quarter end/start\n\"1YE\", \"1YS\"          \
    \    # Year end/start\n```\n\n---\n\n## Advanced Timeframes\n\n### Month/Quarter/Year\
    \ Anchoring\n\n```python\n\"1MS\"     # Month start\n\"1ME\"     # Month end\n\
    \"1QS\"     # Quarter start\n\"1QE\"     # Quarter end\n\"1YS\"     # Year start\n\
    \"1YE\"     # Year end\n```\n\n### Week Anchoring\n\n```python\n\"1W-MON\"   \
    \      # Week starting Monday\n\"1W-FRI\"         # Week starting Friday\n\"1W-SUN\"\
    \         # Week starting Sunday\n\"1W-MON-1st\"     # First Monday of month\n\
    \"1W-MON-2nd\"     # Second Monday of month\n\"1W-MON-3rd\"     # Third Monday\
    \ of month\n\"1W-FRI-Last\"    # Last Friday of month\n```\n\n---\n\n## Multi-Timeframe\
    \ Pattern\n\nHigher timeframe for trend, lower timeframe for entry:\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\n\n# Daily trend filter\ndaily_trend\
    \ = ema(period=50, timeframe=\"1D\")(src.c)\nuptrend = src.c > daily_trend\n\n\
    # Intraday entry signals\nfast = ema(period=12)(src.c)\nslow = ema(period=26)(src.c)\n\
    entry = crossover(fast, slow)\n\n# Trade only with daily trend\nbuy = entry and\
    \ uptrend\ntrade_signal_executor()(enter_long=buy)\n```\n\n---\n\n## Timeframe\
    \ Requirements\n\n**Some transforms require a timeframe** (flagged with `requiresTimeFrame=true`\
    \ in metadata):\n\n```python\nsrc = market_data_source(timeframe=\"1D\")  # \u2713\
    \ Required - data source needs timeframe\n\n# \u2717 Error: Missing timeframe\n\
    gaps = session_gap(fill_percent=100)()\n\n# \u2713 Correct: Explicit timeframe\n\
    gaps = session_gap(fill_percent=100, timeframe=\"1Min\")()\n\n# \u2713 Also correct:\
    \ Inherits from src\ngaps = session_gap(fill_percent=100)(src.c)\n```\n\n**Transforms\
    \ requiring timeframes:**\n\n- Data sources: `market_data_source`, `vwap`, `trade_count`\n\
    - Chart patterns: `swing_highs_lows`, `head_and_shoulders`, `triangles`, `flags`\n\
    - Calendar effects: `day_of_week`, `week_of_month`, `holiday`\n\n---\n\n## See\
    \ Also\n\n- [Sessions](./sessions) - Combine timeframes with session filtering\n\
    - [Design Guidelines](../design-guidelines) - Timeframe validation errors\n"
  filename: public_documentation/epochscript/concepts/timeframes.md
- content: "---\n\ntitle: EpochScript Design Guidelines\npage\\_type: concept\nlayout:\
    \ default\norder: 4\ncategory: Language\ndescription: Essential design patterns,\
    \ executor requirements, Python incompatibilities, and common mistakes\nparent:\
    \ ./index.md\n------------------\n\n# EpochScript Design Guidelines\n\nEssential\
    \ design patterns and constraints for writing EpochScript strategies.\n\n---\n\
    \n## Strategy Executor Requirements\n\n### Every Trading Strategy Must Have Exactly\
    \ One Executor\n\nTrading strategies require exactly one `trade_signal_executor()`\
    \ call. This is not an error you encounter randomly - it's a fundamental design\
    \ requirement.\n\n**Why?** The executor is the bridge between your strategy logic\
    \ and actual trade execution. Without it, your strategy is just calculations with\
    \ no trades.\n\n#### Pattern: Single Executor\n\n```python\n# Correct: - One executor\
    \ with all signals\nsrc = market_data_source(timeframe=\"1D\")\n\nfast = ema(period=12)(src.c)\n\
    slow = ema(period=26)(src.c)\n\nbuy_signal = crossover(fast, slow)\nsell_signal\
    \ = crossover(slow, fast)\n\ntrade_signal_executor()(\n    enter_long=buy_signal,\n\
    \    enter_short=sell_signal\n)\n```\n\n#### Anti-Pattern: Missing Executor\n\n\
    ```python\n# Incorrect: - No executor\nsrc = market_data_source(timeframe=\"1D\"\
    )\nsignal = src.c > src.c[1]\n# Strategy ends here - no trades will execute!\n\
    ```\n\n**Error message:** `No trade_signal_executor found in strategy`\n\n####\
    \ Anti-Pattern: Multiple Executors\n\n```python\n# Incorrect: - Multiple executors\
    \ (conflicting logic)\ntrade_signal_executor()(enter_long=buy)\ntrade_signal_executor()(enter_short=sell)\
    \  # Second executor conflicts!\n```\n\n**Error message:** `Multiple trade_signal_executor\
    \ calls found`\n\n**Fix:** Combine all signals into single executor call.\n\n\
    #### Anti-Pattern: Empty Executor\n\n```python\n# Incorrect: - Executor with no\
    \ signals\ntrade_signal_executor()()  # What should it execute?\n```\n\n**Error\
    \ message:** `trade_signal_executor requires at least one input`\n\n**Fix:** Provide\
    \ at least one signal (enter\\_long, enter\\_short, exit\\_long, or exit\\_short).\n\
    \n### Executor Signal Inputs\n\nThe executor accepts four optional boolean inputs\
    \ (but requires at least one):\n\n- `enter_long` - Signal to open long position\n\
    - `enter_short` - Signal to open short position\n- `exit_long` - Signal to close\
    \ long position\n- `exit_short` - Signal to close short position\n\n**Execution\
    \ order:** Exits are processed BEFORE entries on the same bar.\n\n**Example: Long-only\
    \ strategy with exit logic**\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nema_20 = ema(period=20)(src.c)\natr_val = atr(period=14)(src.h, src.l,\
    \ src.c)\n\n# Entry signal\nbuy = crossover(src.c, ema_20)\n\n# Exit signal (stop-loss\
    \ or take-profit)\nstop_distance = 2 * atr_val\nexit = src.c < (ema_20 - stop_distance)\n\
    \ntrade_signal_executor()(\n    enter_long=buy,\n    exit_long=exit\n)\n```\n\n\
    ---\n\n## Execution Model\n\n### Scripts Execute Per-Asset by Default\n\nEpochScript\
    \ strategies run in **time-series mode** - your entire script executes once for\
    \ each asset in your configured universe. You don't specify which assets to analyze\
    \ inside your script; the framework handles this automatically.\n\n**Key Principle:**\
    \ Universe configuration is **external** to your script code.\n\n#### Antipattern:\
    \ Using Non-Existent 'symbols' Parameter\n\n```python\n# Incorrect: - 'symbols'\
    \ parameter does not exist\nsrc = market_data_source(timeframe=\"1D\", symbols=[\"\
    AAPL\", \"MSFT\", \"GOOG\"])\nspx = indices(ticker=\"SPX\", symbols=[\"SPX\"])\n\
    ```\n\n**Error message:** `Unknown option 'symbols'`\n\n**Why?** The `symbols`\
    \ parameter doesn't exist on `market_data_source`, `indices`, or `common_indices`.\
    \ Your script runs separately for each asset - the framework provides data for\
    \ the current asset automatically.\n\n#### Correct: Let Framework Handle Asset\
    \ Iteration\n\n```python\n# Correct: - No symbols needed\nsrc = market_data_source(timeframe=\"\
    1D\")\n# Framework automatically provides data for current asset (AAPL, MSFT,\
    \ etc.)\n\nfast = ema(period=12)(src.c)\nslow = ema(period=26)(src.c)\nbuy = crossover(fast,\
    \ slow)\n\ntrade_signal_executor()(enter_long=buy)\n```\n\n**How it works:**\n\
    \n1. Universe configured at backtest/strategy level: \\[\"AAPL\", \"MSFT\", \"\
    GOOG\"]\n2. Framework runs your script 3 times:\n   - Run 1: `market_data_source`\
    \ fetches AAPL data\n   - Run 2: `market_data_source` fetches MSFT data\n   -\
    \ Run 3: `market_data_source` fetches GOOG data\n3. Each run is independent -\
    \ separate trades, separate state\n\n### Cross-Sectional Operations\n\nTo compare\
    \ or rank assets **across the universe** at each timestamp, use transforms prefixed\
    \ with `cs_`:\n\n```python\n# Cross-sectional ranking strategy\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Calculate 60-day momentum for this asset\nreturns = roc(period=60)(src.c)\n\
    \n# cs_momentum compares THIS asset against ALL assets in universe\n# Returns\
    \ percentile rank (0-100) at each timestamp\nmomentum_rank = cs_momentum()(returns)\n\
    \n# Select top 20% across entire universe\ntop_performers = top_k_percent(k=20)(momentum_rank)\n\
    \ntrade_signal_executor()(enter_long=top_performers)\n```\n\n**Cross-sectional\
    \ transforms:**\n\n- `cs_momentum()` - Rank assets by input values (percentile\
    \ 0-100)\n- `cs_zscore()` - Normalize across assets (z-score at each timestamp)\n\
    - `top_k()` / `bottom_k()` - Select fixed count\n- `top_k_percent()` / `bottom_k_percent()`\
    \ - Select by percentage\n\n**See also:** [Cross-Sectional Analysis](./concepts/cross-sectional)\
    \ for detailed examples\n\n### Comparing Against Benchmarks\n\nFor comparing each\
    \ asset against a benchmark (e.g., SPX):\n\n```python\n# Each asset compared to\
    \ SPX\nsrc = market_data_source(timeframe=\"1D\")  # Current asset\nspx = common_indices(index=\"\
    SPX\")()       # Benchmark\n\n# Relative strength\nasset_ret = roc(period=20)(src.c)\n\
    spx_ret = roc(period=20)(spx.c)\noutperforming = asset_ret > spx_ret\n\ntrade_signal_executor()(enter_long=outperforming)\n\
    ```\n\n---\n\n## Python Features Not Supported\n\nEpochScript looks like Python\
    \ but is **NOT Python**. It's a domain-specific language for quantitative strategies\
    \ with strict constraints.\n\n### Control Flow Statements\n\n**Not supported:**\n\
    \n- `if`/`elif`/`else` statements\n- `for` loops\n- `while` loops\n- `def` function\
    \ definitions\n- `class` definitions\n- `try`/`except` error handling\n\n**Why?**\
    \ EpochScript operates on time series data where every expression evaluates for\
    \ all time points simultaneously. Control flow would break this model.\n\n####\
    \ Wrong: If Statement\n\n```python\n# Incorrect: - if/else not allowed\nif price\
    \ > 100:\n    signal = True\nelse:\n    signal = False\n```\n\n**Error message:**\
    \ `If statements not supported`\n\n#### Correct: Boolean Expression or Ternary\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\")\nprice = src.c\nrsi_val\
    \ = rsi(period=14)(src.c)\n\n# FIX 1: Direct boolean expression\nsignal = price\
    \ > 100\n\n# FIX 2: Ternary operator (for value selection)\nsignal2 = True if\
    \ price > 100 else False\n\n# FIX 3: conditional_select for multi-way branching\n\
    regime = conditional_select(\n    rsi_val < 30, \"oversold\",\n    rsi_val > 70,\
    \ \"overbought\",\n    \"neutral\"\n)\n```\n\n### Variable Reassignment\n\nVariables\
    \ are **immutable** (single-assignment only). Once bound, they cannot be reassigned.\n\
    \n**Why?** Prevents temporal logic bugs and enables parallel evaluation.\n\n####\
    \ Wrong: Reassignment\n\n```python\n# Incorrect: - Cannot reassign variables\n\
    price = src.c\nprice = src.o  # ERROR!\n```\n\n**Error message:** `Variable 'price'\
    \ already bound`\n\n#### Correct: Unique Names\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# FIX - Use distinct variable names\nclose_price = src.c\nopen_price\
    \ = src.o\n```\n\n### Chained Comparisons\n\nPython's chained comparison syntax\
    \ is not supported.\n\n**Why?** Ambiguous semantics for time series data.\n\n\
    #### Wrong: Chained Comparison\n\n```python\n# Incorrect: - Chained comparison\
    \ not supported\nvalid = 30 < rsi_val < 70\n```\n\n**Error message:** `Chained\
    \ comparison not supported`\n\n#### Correct: Explicit Boolean Logic\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\nrsi_val = rsi(period=14)(src.c)\n\n\
    # FIX - Break into explicit conditions\nabove_30 = rsi_val > 30\nbelow_70 = rsi_val\
    \ < 70\nvalid = above_30 and below_70\n\n# Or inline:\nvalid2 = (rsi_val > 30)\
    \ and (rsi_val < 70)\n```\n\n### Negative Indexing\n\nPython's negative list indexing\
    \ (`[-1]` for last element) is not supported.\n\n**Why?** Lag semantics are forward-looking\
    \ by default. Negative indices would be confusing.\n\n#### Wrong: Negative Index\n\
    \n```python\n# Incorrect: - Negative lag not allowed\nyesterday = src.c[-1]  #\
    \ Python lists allow this\n```\n\n**Error message:** `Negative lag indices not\
    \ supported`\n\n#### Correct: Positive Lag\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# FIX - Use positive lag (historical lookback)\nyesterday = src.c[1]\
    \  # 1 bar ago\nlast_week = src.c[5]  # 5 bars ago\n```\n\n### Zero Indexing\n\
    \nPython's `[0]` for current element is not needed.\n\n#### Wrong: Zero Index\n\
    \n```python\n# Incorrect: - Zero lag is redundant\ncurrent = src.c[0]\n```\n\n\
    **Error message:** `invalid_lag_zero`\n\n#### Correct: Omit Index for Current\
    \ Value\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# FIX - Omit\
    \ index for current value\ncurrent = src.c\n```\n\n---\n\n## Transform Usage Patterns\n\
    \n### Multi-Output Transform Access\n\nTransforms that return multiple outputs\
    \ (like `bbands`, `macd`, `stoch`) cannot be used directly in expressions without\
    \ specifying which output.\n\n**Why?** Ambiguous which output you want.\n\n####\
    \ Anti-Pattern: Ambiguous Multi-Output\n\n```python\n# Incorrect: - Which output?\n\
    bb = bbands(period=20, stddev=2)(src.c)\nsignal = bb > 100  # bb has 3 outputs:\
    \ lower, middle, upper\n```\n\n**Error message:** `ambiguous_multi_output: Cannot\
    \ use multi-output transform in expression context`\n\n#### Pattern 1: Attribute\
    \ Access\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# FIX - Access\
    \ specific output by name\nbb = bbands(period=20, stddev=2)(src.c)\nsignal = bb.bbands_upper\
    \ > 100\nresistance = bb.bbands_upper\nsupport = bb.bbands_lower\n```\n\n####\
    \ Pattern 2: Tuple Unpacking\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# FIX - Unpack all outputs\nlower, middle, upper = bbands(period=20,\
    \ stddev=2)(src.c)\nsignal = upper > 100\n\n# Discard unwanted outputs with underscore\n\
    lower2, _, upper2 = bbands(period=20, stddev=2)(src.c)\n```\n\n### Tuple Unpacking\
    \ Count Matching\n\nWhen unpacking, variable count must match output count exactly\
    \ (or use `_` for discards).\n\n#### Wrong: Count Mismatch\n\n```python\n# Incorrect:\
    \ - bbands has 3 outputs, but only 2 variables\nlower, upper = bbands(period=20,\
    \ stddev=2)(src.c)\n```\n\n**Error message:** `Tuple unpacking count mismatch:\
    \ expected 3 values, got 2 variables`\n\n#### Correct: Matching Count\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\n\n# FIX 1: Match all outputs\nlower,\
    \ middle, upper = bbands(period=20, stddev=2)(src.c)\n\n# FIX 2: Discard unwanted\
    \ with underscore\nlower2, _, upper2 = bbands(period=20, stddev=2)(src.c)\n\n\
    # FIX 3: Use attribute access instead\nbb = bbands(period=20, stddev=2)(src.c)\n\
    lower3 = bb.bbands_lower\nupper3 = bb.bbands_upper\n```\n\n### Only Unpack Transform\
    \ Calls\n\nYou can only unpack direct transform constructor calls, not intermediate\
    \ variables or expressions.\n\n#### Wrong: Unpacking Non-Constructor\n\n```python\n\
    # Incorrect: - Cannot unpack variable\nbb = bbands(period=20, stddev=2)(src.c)\n\
    lower, middle, upper = bb  # Not a constructor call!\n```\n\n**Error message:**\
    \ `Right-hand side must be a constructor call`\n\n#### Correct: Unpack Constructor\
    \ Directly\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# FIX -\
    \ Unpack the constructor call directly\nlower, middle, upper = bbands(period=20,\
    \ stddev=2)(src.c)\n```\n\n### event\\_marker Schema Pattern\n\n> **See also:**\
    \ [Event Marker System](./concepts/core-features#event-marker-system) for conceptual\
    \ overview and usage examples\n\nThe `event_marker` transform uses `EventMarkerSchema`\
    \ to configure how events are displayed.\n\n#### Requirements:\n\n1. **Color categories**\
    \ in `color_map` must be: `Success` (green), `Warning` (yellow), `Error` (red),\
    \ or `Info` (blue)\n2. **Values** in color\\_map must match the actual column\
    \ values being displayed\n3. **select\\_key** (filter column) must be boolean\n\
    4. Use **SLOT references** for column\\_id to connect inputs\n\n#### Wrong: Color\
    \ Name Instead of Category\n\n```python\n# Incorrect: - Using color names instead\
    \ of categories\nevent_type = conditional_select(\n    rsi_val < 30, \"oversold\"\
    ,\n    rsi_val > 70, \"overbought\")\nany_event = (rsi_val < 30) | (rsi_val >\
    \ 70)\n\nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n        title=\"\
    RSI Signals\",\n        select_key=SLOT0,\n        icon=Signal,\n        schemas=[\n\
    \            CardColumnSchema(\n                column_id=SLOT1,\n           \
    \     slot=PrimaryBadge,\n                render_type=Badge,\n               \
    \ color_map={\n                    \"Green\": [\"oversold\"],   # Wrong: Should\
    \ be Success\n                    \"Red\": [\"overbought\"]    # Wrong: Should\
    \ be Error\n                }\n            )\n        ]\n    )\n)(any_event, event_type)\n\
    ```\n\n**Error message:** `Unknown color category 'Green'`\n\n#### Wrong: Value\
    \ Not in color\\_map\n\n```python\n# Incorrect: - Column value doesn't match color_map\
    \ values\nevent_type = \"breakout\"  # This string not in color_map\nsignal =\
    \ src.c > upper\n\nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n\
    \        title=\"Breakout Signals\",\n        select_key=SLOT0,\n        icon=Signal,\n\
    \        schemas=[\n            CardColumnSchema(\n                column_id=SLOT1,\n\
    \                slot=PrimaryBadge,\n                render_type=Badge,\n    \
    \            color_map={\n                    Success: [\"upper_break\"]  # Expects\
    \ \"upper_break\", not \"breakout\"\n                }\n            )\n      \
    \  ]\n    )\n)(signal, event_type)\n```\n\n**Error message:** `Value 'breakout'\
    \ not found in color_map`\n\n#### Wrong: Non-Boolean Filter\n\n```python\n# Incorrect:\
    \ Passing non-boolean to select_key (SLOT0)\nrsi_val = rsi(period=14)(src.c)\n\
    \nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n        title=\"\
    RSI Values\",\n        select_key=SLOT0,  # Receives rsi_val (Decimal)\n     \
    \   icon=Signal,\n        schemas=[\n            CardColumnSchema(\n         \
    \       column_id=SLOT1,\n                slot=Hero,\n                render_type=Decimal\n\
    \            )\n        ]\n    )\n)(rsi_val, rsi_val)  # ERROR: SLOT0 is Decimal,\
    \ not Boolean\n```\n\n**Error message:** `event_marker select_key expects Boolean\
    \ input, got Decimal`\n\n**Correct:**\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Create boolean filter condition\nrsi_val = rsi(period=14)(src.c)\n\
    oversold = rsi_val < 30\n\nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n\
    \        title=\"Oversold Events\",\n        select_key=SLOT0,  # Boolean filter\n\
    \        icon=Signal,\n        schemas=[\n            CardColumnSchema(\n    \
    \            column_id=SLOT1,\n                slot=Hero,\n                render_type=Decimal\n\
    \            )\n        ]\n    )\n)(oversold, rsi_val)  # \u2705 SLOT0 is Boolean\n\
    ```\n\n#### Correct: Complete EventMarker with Multiple Event Types\n\n```python\n\
    # Correct: - Color-coded events with proper schema\nsrc = market_data_source(timeframe=\"\
    1D\")\nrsi_val = rsi(period=14)(src.c)\nlower, _, upper = bbands(period=20, stddev=2)(src.c)\n\
    \n# Create event type string\nevent_type = conditional_select(\n    rsi_val <\
    \ 30, \"oversold\",\n    rsi_val > 70, \"overbought\",\n    src.c < lower, \"\
    support_break\",\n    src.c > upper, \"resistance_break\",\n    crossover(src.c,\
    \ upper), \"crossover\")\n\n# Filter: any event occurred\nany_event = (rsi_val\
    \ < 30) | (rsi_val > 70) | (src.c < lower) | (src.c > upper) | crossover(src.c,\
    \ upper)\n\nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n      \
    \  title=\"Trading Signals\",\n        select_key=SLOT0,  # Boolean filter\n \
    \       icon=Signal,\n        schemas=[\n            CardColumnSchema(\n     \
    \           column_id=SLOT1,  # Event type string\n                slot=PrimaryBadge,\n\
    \                render_type=Badge,\n                color_map={\n           \
    \         Success: [\"oversold\", \"support_break\"],    # Green\n           \
    \         Error: [\"overbought\", \"resistance_break\"],  # Red\n            \
    \        Warning: [\"neutral\"],                       # Yellow\n            \
    \        Info: [\"crossover\"]                         # Blue\n              \
    \  }\n            ),\n            CardColumnSchema(\n                column_id=SLOT2,\
    \  # RSI value\n                slot=Hero,\n                render_type=Decimal\n\
    \            )\n        ]\n    )\n)(any_event, event_type, rsi_val)\n```\n\n---\n\
    \n## Timeframe and Session Formats\n\n### Valid Timeframe Formats\n\nEpochScript\
    \ uses specific string formats for timeframes. Common abbreviations from Python\
    \ or other languages won't work.\n\n#### Valid Formats:\n\n**Intraday:**\n\n-\
    \ `\"1Min\"`, `\"5Min\"`, `\"15Min\"`, `\"30Min\"`\n- `\"1H\"`, `\"2H\"`, `\"\
    4H\"`\n\n**Daily and Higher:**\n\n- `\"1D\"` (daily)\n- `\"1W\"` (weekly)\n- `\"\
    1M\"` (monthly)\n\n#### Wrong Formats:\n\n```python\n# Incorrect: - These don't\
    \ work\ndaily = ema(period=50, timeframe=\"1Day\")(src.c)   # Use \"1D\"\nhourly\
    \ = ema(period=20, timeframe=\"1Hour\")(src.c)  # Use \"1H\"\nminute = ema(period=10,\
    \ timeframe=\"1Minute\")(src.c) # Use \"1Min\"\n```\n\n**Error message:** `Invalid\
    \ timeframe 'BAD_TF'`\n\n#### Correct Formats:\n\n```python\n# Correct:\ndaily\
    \ = ema(period=50, timeframe=\"1D\")(src.c)\nhourly = ema(period=20, timeframe=\"\
    1H\")(src.c)\nminute = ema(period=10, timeframe=\"1Min\")(src.c)\n```\n\n### Valid\
    \ Session Names\n\nSession-based transforms use predefined session names.\n\n\
    #### Valid Sessions:\n\n**Geographic:**\n\n- `\"Sydney\"`, `\"Tokyo\"`, `\"London\"\
    `, `\"NewYork\"`\n\n**Kill Zones (ICT):**\n\n- `\"AsianKillZone\"`\n- `\"LondonOpenKillZone\"\
    `\n- `\"NewYorkKillZone\"`\n- `\"LondonCloseKillZone\"`\n\n#### Wrong Sessions:\n\
    \n```python\n# Incorrect: - These don't exist\nlondon = sessions(session_type=\"\
    LondonKillZone\")()  # Doesn't exist\nny = sessions(session_type=\"NY\")()   \
    \                # Use \"NewYork\"\n```\n\n**Error message:** `Invalid session\
    \ 'BAD_SESSION'`\n\n#### Correct Sessions:\n\n```python\n# Correct:\nlondon =\
    \ sessions(session_type=\"London\")()\nlondon_open_kz = sessions(session_type=\"\
    LondonOpenKillZone\")()\nny = sessions(session_type=\"NewYork\")()\n```\n\n###\
    \ Session-Based Transforms Require Intraday Data\n\nTransforms like `sessions()`,\
    \ `bar_gap()`, and `session_gap()` only work on intraday timeframes.\n\n**Why?**\
    \ Sessions are meaningful only for intraday data (London session, NY session,\
    \ etc.). Daily bars don't have session boundaries.\n\n#### Wrong: Sessions on\
    \ Daily Data\n\n```python\n# Incorrect: - If strategy runs on daily (1D) timeframe\n\
    london = sessions(session_type=\"London\")()\n```\n\n**Error message:** `Transform\
    \ 'sessions' requires intraday data`\n\n#### Correct: Sessions on Intraday Data\n\
    \n```python\n# Correct: - Strategy configured for intraday (1Min, 5Min, 1H, etc.)\n\
    london = sessions(session_type=\"London\")()\nbreakout = src.c > london.high\n\
    ```\n\n**Configuration:** Ensure your strategy/backtest is configured to run on\
    \ intraday timeframe.\n\n---\n\n## Common Design Mistakes\n\n### 1. Trying to\
    \ Filter Data with If Statements\n\n**Wrong approach:**\n\n```python\n# Users\
    \ often try this (Python thinking)\nif london_session:\n    signal = ema_cross\n\
    ```\n\n**Correct approach:**\n\n```python\nsrc = market_data_source(timeframe=\"\
    5Min\")\n\n# Use boolean logic\nfast = ema(period=12)(src.c)\nslow = ema(period=26)(src.c)\n\
    ema_cross = crossover(fast, slow)\nlondon = sessions(session_type=\"London\")()\n\
    signal = ema_cross and london.active\n```\n\n### 2. Calling Output Attributes\
    \ as Functions\n\n**Wrong:**\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Trying to call output handle\nbb = bbands(period=20, stddev=2)(src.c)\n\
    upper_val = bb.bbands_upper()  # Don't call it!\n```\n\n**Error message:** `Cannot\
    \ call attribute as function`\n\n**Correct:**\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Access attribute directly\nbb = bbands(period=20, stddev=2)(src.c)\n\
    upper_val = bb.bbands_upper\n```\n\n### 3. Using Transform Name as Variable\n\n\
    **Confusing but allowed:**\n\n```python\n# Note: Legal but confusing\nema = market_data_source(timeframe=\"\
    1D\")\nema_20 = ema(period=20)(ema.c)  # 'ema' is the source, not the transform!\n\
    ```\n\n**Better:**\n\n```python\n# Clear naming\nsrc = market_data_source(timeframe=\"\
    1D\")\nema_20 = ema(period=20)(src.c)\n```\n\n### 4. Forgetting Data Source\n\n\
    **Wrong:**\n\n```python\n# Where does 'c' come from?\nema_20 = ema(period=20)(c)\n\
    ```\n\n**Error message:** `Undefined variable 'c'`\n\n**Correct:**\n\n```python\n\
    # Explicitly fetch data source\nsrc = market_data_source(timeframe=\"1D\")\nema_20\
    \ = ema(period=20)(src.c)\n```\n\n### 5. Inconsistent Variable Naming in Unpacking\n\
    \n**Confusing:**\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n\
    # Note: Legal but confusing naming\nx, y, z = bbands(period=20, stddev=2)(src.c)\n\
    # Which is upper? Which is lower?\n```\n\n**Better:**\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Descriptive names\nlower, middle, upper = bbands(period=20, stddev=2)(src.c)\n\
    # Or:\nbb_lower, bb_middle, bb_upper = bbands(period=20, stddev=2)(src.c)\n```\n\
    \n---\n\n## Summary\n\n**Key Principles:**\n\n1. **Per-asset execution model**\
    \ - Scripts run once per asset; universe configured externally\n2. **One executor\
    \ per strategy** - Required design pattern\n3. **No Python control flow** - Use\
    \ boolean logic and ternary operators\n4. **Immutable variables** - Single assignment\
    \ only\n5. **Explicit multi-output access** - Unpack or use attribute access\n\
    6. **Strict format strings** - Timeframes and sessions have exact formats\n7.\
    \ **Intraday-only transforms** - Some transforms require intraday data\n8. **Cross-sectional\
    \ with cs\\_ prefix** - Use `cs_momentum()`, `cs_zscore()` for multi-asset ranking\n\
    \n**When in doubt:**\n\n- Check [Error Reference](./error-reference) for specific\
    \ error messages\n- See [Language Fundamentals](./language) for detailed syntax\
    \ rules\n- Review [Core Concepts](./concepts) for working examples\n\n---\n\n\
    **Related Documentation:**\n\n- [Language Fundamentals](./language) - Syntax and\
    \ types\n- [Error Reference](./error-reference) - Troubleshooting specific errors\n\
    - [Core Concepts](./concepts) - Timeframes, sessions, cross-sectional, data sources\n"
  filename: public_documentation/epochscript/design-guidelines.md
- content: "---\n\ntitle: Error Reference\npage\\_type: reference\nlayout: table\n\
    order: 1\ncategory: Reference\ndescription: Comprehensive troubleshooting guide\
    \ with searchable error messages, causes, and fixes\nparent: ./index.md\n------------------\n\
    \n# Error Reference\n\nQuick reference for EpochScript compilation and runtime\
    \ errors. Each error includes the error message, cause, and fix example with links\
    \ to detailed documentation.\n\n---\n\n## Syntax Errors\n\n### Variable Already\
    \ Bound\n\n**Error:** `Variable 'price' already bound`\n\n**Cause:** Attempting\
    \ to reassign a variable\n\n```python\n# Incorrect:\nprice = src.c\nprice = src.o\
    \  # ERROR: Cannot reassign\n\n# FIX\nclose_price = src.c\nopen_price = src.o\n\
    ```\n\n**See also:** [Design Guidelines - Variable Reassignment](./design-guidelines.md#variable-reassignment)\n\
    \n---\n\n### Undefined Variable\n\n**Error:** `Undefined variable 'x'`\n\n**Cause:**\
    \ Using variable before definition\n\n```python\n# Incorrect:\nsignal = ema_val\
    \ > 100\nema_val = ema(period=20)(src.c)  # Defined after use\n\n# FIX\nema_val\
    \ = ema(period=20)(src.c)\nsignal = ema_val > 100\n```\n\n---\n\n### Chained Comparison\
    \ Not Supported\n\n**Error:** `Chained comparison not supported`\n\n**Cause:**\
    \ Using syntax like `a < b < c`\n\n```python\n# Incorrect:\nvalid = 30 < rsi_val\
    \ < 70\n\n# FIX\nabove_30 = rsi_val > 30\nbelow_70 = rsi_val < 70\nvalid = above_30\
    \ and below_70\n```\n\n**See also:** [Design Guidelines - Chained Comparisons](./design-guidelines.md#chained-comparisons)\n\
    \n---\n\n### Control Flow Not Allowed\n\n**Error:** `If statements not supported`\n\
    \n**Cause:** Using `if`, `for`, `while`, `def`, `class`\n\n```python\n# Incorrect:\n\
    if price > 100:\n    signal = True\nelse:\n    signal = False\n\n# FIX\nsignal\
    \ = price > 100\n# Or: signal = True if price > 100 else False\n```\n\n**See also:**\
    \ [Design Guidelines - Control Flow Statements](./design-guidelines.md#control-flow-statements)\n\
    \n---\n\n## Type Errors\n\n### Incompatible Type Cast\n\n**Error:** `incompatible_type_cast`\n\
    \n**Cause:** Trying to mix incompatible types (e.g., String + Number)\n\n```python\n\
    # Incorrect:\nlabel = \"PRICE\"\nresult = label + 100  # Cannot add string to\
    \ number\n\n# FIX\nvalue = 100\nresult = value + 100\n```\n\n---\n\n### Type Mismatch\
    \ for Option\n\n**Error:** `Type mismatch for option 'period': expected Integer,\
    \ got String`\n\n**Cause:** Wrong type for transform parameter\n\n```python\n\
    # Incorrect:\nema_val = ema(period=\"20\")(src.c)  # String instead of Integer\n\
    \n# FIX\nema_val = ema(period=20)(src.c)\n```\n\n**See also:** [Types & Literals\
    \ - Parameter Type Validation](./language/types.md#parameter-type-validation)\n\
    \n---\n\n### Boolean Operation on Non-Boolean\n\n**Error:** `Expected Boolean\
    \ type for logical operation`\n\n**Cause:** Using `and`/`or`/`not` with non-boolean\
    \ values incorrectly\n\n```python\n# Incorrect: (if not auto-cast)\nvalue = 100\n\
    result = value and True  # May fail if no auto-cast\n\n# FIX\nis_positive = value\
    \ > 0\nresult = is_positive and True\n```\n\n---\n\n## Transform Errors\n\n**See\
    \ also:** [Core Concepts](./concepts) for timeframes, sessions, and cross-sectional\
    \ capabilities.\n\n### Missing Required Option\n\n**Error:** `Missing required\
    \ option 'period'`\n\n**Cause:** Transform requires an option that wasn't provided\n\
    \n```python\n# Incorrect:\nema_val = ema()(src.c)  # Missing period\n\n# FIX\n\
    ema_val = ema(period=20)(src.c)\n```\n\n---\n\n### Unknown Option\n\n**Error:**\
    \ `Unknown option 'periood'`\n\n**Cause:** Typo in option name\n\n```python\n\
    # Incorrect:\nema_val = ema(periood=20)(src.c)  # Typo\n\n# FIX\nema_val = ema(period=20)(src.c)\n\
    ```\n\n---\n\n### Unknown Handle\n\n**Error:** `Unknown handle 'result' for transform\
    \ 'market_data_source'`\n\n**Cause:** Accessing wrong output name\n\n```python\n\
    # Incorrect:\nsrc = market_data_source(timeframe=\"1D\")\nprice = src.result \
    \ # market_data_source has no 'result'\n\n# FIX\nprice = src.c  # Use correct\
    \ handle: c, h, l, o, v\n```\n\n---\n\n### Transform Not Found\n\n**Error:** `Unknown\
    \ transform 'ema_20'`\n\n**Cause:** Typo in transform name or transform doesn't\
    \ exist\n\n```python\n# Incorrect:\nema_val = ema_20()(src.c)  # No such transform\n\
    \n# FIX\nema_val = ema(period=20)(src.c)\n```\n\n---\n\n### Wrong Input Count\n\
    \n**Error:** `Expected 2 inputs, got 1`\n\n**Cause:** Transform requires specific\
    \ number of inputs\n\n```python\n# Incorrect:\ncross = crossover()(fast)  # Needs\
    \ 2 inputs\n\n# FIX\ncross = crossover()(fast, slow)\n```\n\n---\n\n### Wrong\
    \ Input Type\n\n**Error:** `Expected Decimal input, got Boolean`\n\n**Cause:**\
    \ Passing wrong type to transform input\n\n```python\n# Incorrect:\nema_val =\
    \ ema(period=20)(is_bullish)  # Boolean, not Decimal\n\n# FIX\nema_val = ema(period=20)(src.c)\
    \  # Decimal\n```\n\n---\n\n## Lag Operator Errors\n\n### Invalid Lag Zero\n\n\
    **Error:** `invalid_lag_zero`\n\n**Cause:** Using `[0]` as lag index\n\n```python\n\
    # Incorrect:\ncurrent = src.c[0]\n\n# FIX\ncurrent = src.c  # Omit index for current\
    \ value\n```\n\n**See also:** [Design Guidelines - Zero Indexing](./design-guidelines.md#zero-indexing)\n\
    \n---\n\n### Invalid Lag Float\n\n**Error:** `invalid_lag_float`\n\n**Cause:**\
    \ Using float as lag index\n\n```python\n# Incorrect:\nlag = src.c[1.5]\n\n# FIX\n\
    lag = src.c[2]  # Use integer\n```\n\n---\n\n### Negative Lag Not Allowed\n\n\
    **Error:** `Negative lag indices not supported`\n\n**Cause:** Using negative index\
    \ (forward-looking)\n\n```python\n# Incorrect:\nfuture = src.c[-1]\n\n# FIX (for\
    \ research only)\n# Use forward_returns transform\nfuture_ret = forward_returns(period=1)(src.c)\n\
    ```\n\n**See also:** [Design Guidelines - Negative Indexing](./design-guidelines.md#negative-indexing)\n\
    \n---\n\n## Multi-Output Errors\n\n### Ambiguous Multi-Output\n\n**Error:** `ambiguous_multi_output`\n\
    \n**Cause:** Using multi-output transform in expression without specifying which\
    \ output\n\n```python\n# Incorrect:\nbb = bbands(period=20, stddev=2)(src.c)\n\
    signal = bb > 100  # Which output? (lower, middle, or upper?)\n\n# FIX - Option\
    \ 1: Access specific handle\nbb = bbands(period=20, stddev=2)(src.c)\nsignal =\
    \ bb.bbands_upper > 100\n\n# FIX - Option 2: Tuple unpacking\nlower, middle, upper\
    \ = bbands(period=20, stddev=2)(src.c)\nsignal = upper > 100\n```\n\n**See also:**\
    \ [Design Guidelines - Multi-Output Transform Access](./design-guidelines.md#multi-output-transform-access)\n\
    \n---\n\n### Tuple Unpacking Count Mismatch\n\n**Error:** `Tuple unpacking count\
    \ mismatch: expected 3, got 2`\n\n**Cause:** Number of variables doesn't match\
    \ number of outputs\n\n```python\n# Incorrect:\nlower, upper = bbands(period=20,\
    \ stddev=2)(src.c)  # 3 outputs, 2 variables\n\n# FIX - Option 1: Match count\n\
    lower, middle, upper = bbands(period=20, stddev=2)(src.c)\n\n# FIX - Option 2:\
    \ Discard with underscore\nlower, _, upper = bbands(period=20, stddev=2)(src.c)\n\
    ```\n\n**See also:** [Design Guidelines - Tuple Unpacking Count Matching](./design-guidelines.md#tuple-unpacking-count-matching)\n\
    \n---\n\n### Right-Hand Side Must Be Constructor Call\n\n**Error:** `Right-hand\
    \ side of tuple unpacking must be a constructor call`\n\n**Cause:** Trying to\
    \ unpack something that isn't a transform call\n\n```python\n# Incorrect:\nbb\
    \ = bbands(period=20, stddev=2)(src.c)\nlower, middle, upper = bb  # Cannot unpack\
    \ after assignment\n\n# FIX\nlower, middle, upper = bbands(period=20, stddev=2)(src.c)\n\
    ```\n\n**See also:** [Design Guidelines - Only Unpack Transform Calls](./design-guidelines.md#only-unpack-transform-calls)\n\
    \n---\n\n### Calling Attribute as Function\n\n**Error:** `Cannot call attribute\
    \ as function`\n\n**Cause:** Trying to call an output handle\n\n```python\n# Incorrect:\n\
    bb_upper = bbands(period=20, stddev=2).bbands_upper(src.c)\n\n# FIX\nbb = bbands(period=20,\
    \ stddev=2)(src.c)\nbb_upper = bb.bbands_upper  # Access, don't call\n```\n\n\
    **See also:** [Design Guidelines - Common Design Mistakes](./design-guidelines.md#2-calling-output-attributes-as-functions)\n\
    \n---\n\n## TimeFrame/Session Errors\n\n### Missing Required Timeframe\n\n**Error:**\
    \ `Transform 'market_data_source' requires a timeframe`\n\n**Cause:** Transform\
    \ with `requiresTimeFrame=true` has no explicit timeframe and no inputs to inherit\
    \ from\n\n```python\n# Incorrect:\nsrc = market_data_source()  # Missing timeframe\n\
    gaps = session_gap(fill_percent=100)()  # No timeframe, no inputs\n\n# FIX - Option\
    \ 1: Set explicit timeframe\nsrc = market_data_source(timeframe=\"1D\")\ngaps\
    \ = session_gap(fill_percent=100, timeframe=\"1Min\")()\n\n# FIX - Option 2: Connect\
    \ to input with timeframe\nsrc = market_data_source(timeframe=\"1D\")\ngaps =\
    \ session_gap(fill_percent=100)(src.c)  # Inherits \"1D\" from src\n```\n\n**Transforms\
    \ requiring explicit timeframes:**\n\n- Data sources: `market_data_source`, `vwap`,\
    \ `trade_count` (no inputs)\n- Calendar effects: `day_of_week`, `week_of_month`,\
    \ `holiday` (no inputs)\n- Chart patterns with no inputs: `swing_highs_lows`,\
    \ `head_and_shoulders`\n\n**See also:** [Timeframes - Timeframe Requirements](./concepts/timeframes.md#timeframe-requirements)\n\
    \n---\n\n### Invalid TimeFrame\n\n**Error:** `Invalid timeframe 'BAD_TF'`\n\n\
    **Cause:** Using unsupported timeframe string\n\n```python\n# Incorrect:\ndaily\
    \ = ema(period=50, timeframe=\"BAD_TF\")(src.c)\ndaily = ema(period=50, timeframe=\"\
    1Day\")(src.c)  # Wrong format\n\n# FIX\ndaily = ema(period=50, timeframe=\"1D\"\
    )(src.c)\nhourly = ema(period=20, timeframe=\"1H\")(src.c)\n```\n\n**Valid formats:**\
    \ `\"1Min\"`, `\"2Min\"`, `\"3Min\"`, `\"5Min\"`, `\"10Min\"`, `\"15Min\"`, `\"\
    30Min\"`, `\"45Min\"`, `\"1H\"`, `\"2H\"`, `\"3H\"`, `\"4H\"`, `\"1D\"`, `\"1W-MON\"\
    `, `\"1W-FRI\"`, `\"1W-SUN\"`, `\"1ME\"`, `\"1MS\"`, `\"1QE\"`, `\"1QS\"`, `\"\
    1YE\"`, `\"1YS\"`\n\n**See also:** [Timeframes - Standard Timeframes](./concepts/timeframes.md#standard-timeframes)\n\
    \n---\n\n### Invalid Session\n\n**Error:** `Invalid session 'BAD_SESSION'`\n\n\
    **Cause:** Using unsupported session name\n\n```python\n# Incorrect:\nlondon_ema\
    \ = ema(period=20, session=\"BAD_SESSION\")(src.c)\nlondon_ema = ema(period=20,\
    \ session=\"LondonKillZone\")(src.c)  # Doesn't exist\n\n# FIX\nlondon_ema = ema(period=20,\
    \ session=\"London\")(src.c)\nlkz_ema = ema(period=20, session=\"LondonOpenKillZone\"\
    )(src.c)\n```\n\n**Valid sessions:** `\"Sydney\"`, `\"Tokyo\"`, `\"London\"`,\
    \ `\"NewYork\"`, `\"AsianKillZone\"`, `\"LondonOpenKillZone\"`, `\"NewYorkKillZone\"\
    `, `\"LondonCloseKillZone\"`\n\n**See also:** [Design Guidelines - Valid Session\
    \ Names](./design-guidelines.md#valid-session-names)\n\n---\n\n### Intraday-Only\
    \ Transform on Daily Data\n\n**Error:** `Transform 'sessions' requires intraday\
    \ data`\n\n**Cause:** Using session-based transform on daily or higher timeframe\n\
    \n```python\n# Incorrect: (if running on daily data)\nlondon = sessions(session_type=\"\
    London\")()\n\n# FIX\n# Use intraday timeframe (1Min, 5Min, 15Min, etc.)\n# Configure\
    \ strategy to run on intraday data\n```\n\n**See also:** [Design Guidelines -\
    \ Session-Based Transforms Require Intraday Data](./design-guidelines.md#session-based-transforms-require-intraday-data)\n\
    \n---\n\n### Unknown Option 'symbols' for Data Sources\n\n**Error:** `Unknown\
    \ option 'symbols'`\n\n**Cause:** Attempting to use non-existent `symbols` parameter\
    \ on data source transforms\n\n**Common Antipattern:**\n\n```python\n# Incorrect:\
    \ - These transforms do NOT have a 'symbols' parameter\nsrc = market_data_source(timeframe=\"\
    1Min\", symbols=[\"SPY-Stocks\"])\nsrc = market_data_source(timeframe=\"1D\",\
    \ symbols=[\"AAPL\", \"MSFT\", \"GOOG\"])\nspx = indices(ticker=\"SPX\", symbols=[\"\
    SPX\", \"NDX\"])  # WRONG\nbenchmark = common_indices(index=\"SPX\", symbols=[\"\
    SPX\"])  # WRONG\n```\n\n**Error message:** `Unknown option 'symbols' for transform\
    \ 'market_data_source'` (or `'indices'`, `'common_indices'`)\n\n**Why This Is\
    \ Wrong:**\n\nEpochScript strategies execute **per-asset by default** in time-series\
    \ mode. The framework runs your entire script once for each asset in your configured\
    \ universe. You don't specify which assets to analyze inside your script - that's\
    \ configured at the strategy/backtest level.\n\n**Key Concepts:**\n\n1. **Time-Series\
    \ Execution (Default):** Your script runs independently for each asset in the\
    \ universe. `market_data_source(timeframe=\"1D\")` automatically fetches data\
    \ for whatever asset the script is currently processing.\n\n2. **Cross-Sectional\
    \ Operations:** To compare or rank across multiple assets at once, use transforms\
    \ prefixed with `cs_` (e.g., `cs_momentum()`, `cs_zscore()`, `top_k()`). These\
    \ operate across all assets at each timestamp.\n\n**Correct Patterns:**\n\n```python\n\
    # Pattern 1: Single-asset time-series strategy\n# (Script runs once per asset\
    \ in configured universe)\nsrc = market_data_source(timeframe=\"1D\")\nfast =\
    \ ema(period=12)(src.c)\nslow = ema(period=26)(src.c)\nbuy = crossover(fast, slow)\n\
    \ntrade_signal_executor()(enter_long=buy)\n```\n\n```python\n# Pattern 2: Cross-sectional\
    \ strategy\n# (Script runs per-asset, but cs_ transforms compare across all assets)\n\
    src = market_data_source(timeframe=\"1D\")\n\n# Calculate 60-day returns for each\
    \ asset\nreturns = roc(period=60)(src.c)\n\n# cs_momentum ranks THIS asset against\
    \ ALL other assets in universe\n# Returns percentile rank (0-100) at each timestamp\n\
    momentum_rank = cs_momentum()(returns)\n\n# Select top 20% of assets by momentum\n\
    top_performers = top_k_percent(k=20)(momentum_rank)\n\ntrade_signal_executor()(enter_long=top_performers)\n\
    ```\n\n```python\n# Pattern 3: Comparing against a benchmark index (e.g., SPX)\n\
    # Each asset's data automatically provided by market_data_source\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Fetch benchmark separately (not in universe, just for comparison)\n\
    spx = common_indices(index=\"SPX\")()\n# Or: spx = indices(ticker=\"SPX\")()\n\
    \n# Compare asset performance vs SPX\nasset_return = roc(period=20)(src.c)\nspx_return\
    \ = roc(period=20)(spx.c)\n\n# Relative strength: asset outperforming SPX\noutperforming\
    \ = asset_return > spx_return\n\ntrade_signal_executor()(enter_long=outperforming)\n\
    ```\n\n**How Universe Selection Works:**\n\nThe asset universe is configured **outside\
    \ your script**:\n\n- In backtests: Configure universe in backtest settings (e.g.,\
    \ \"S\\&P 500\", custom list)\n- In strategies: Universe defined at strategy configuration\
    \ level\n- Your script logic is the **same** regardless of universe size\n\n**See\
    \ also:**\n\n- [Cross-Sectional Analysis](./concepts/cross-sectional) - Using\
    \ `cs_` transforms for multi-asset strategies\n- [Design Guidelines - Execution\
    \ Model](./design-guidelines.md#execution-model) - Per-asset vs cross-sectional\
    \ execution\n\n---\n\n## Reporting Errors\n\n### event\\_marker: Invalid Color\
    \ Category\n\n**Error:** `Unknown color category 'Green'`\n\n**Cause:** Using\
    \ wrong color name (must be Success, Warning, Error, or Info)\n\n```python\n#\
    \ Incorrect:\nevent_type = conditional_select(\n    oversold, \"oversold\",\n\
    \    overbought, \"overbought\")\nany_event = oversold | overbought\n\nevent_marker(\n\
    \    event_marker_schema=EventMarkerSchema(\n        title=\"RSI Events\",\n \
    \       select_key=SLOT0,\n        icon=Signal,\n        schemas=[\n         \
    \   CardColumnSchema(\n                column_id=SLOT1,\n                slot=PrimaryBadge,\n\
    \                render_type=Badge,\n                color_map={\n           \
    \         Green: [\"oversold\"],     # Wrong: 'Green' not valid\n            \
    \        Red: [\"overbought\"]      # Wrong: 'Red' not valid\n               \
    \ }\n            )\n        ]\n    )\n)(any_event, event_type)\n\n# FIX\nevent_marker(\n\
    \    event_marker_schema=EventMarkerSchema(\n        title=\"RSI Events\",\n \
    \       select_key=SLOT0,\n        icon=Signal,\n        schemas=[\n         \
    \   CardColumnSchema(\n                column_id=SLOT1,\n                slot=PrimaryBadge,\n\
    \                render_type=Badge,\n                color_map={\n           \
    \         Success: [\"oversold\"],   # Green color\n                    Error:\
    \ [\"overbought\"]    # Red color\n                }\n            )\n        ]\n\
    \    )\n)(any_event, event_type)\n```\n\n**Valid color categories:** `Success`\
    \ (green), `Warning` (yellow), `Error` (red), `Info` (blue)\n\n**See also:** [Design\
    \ Guidelines - event\\_marker Color Map Pattern](./design-guidelines.md#event_marker-color-map-pattern)\n\
    \n---\n\n### event\\_marker: Column Value Not in color\\_map\n\n**Error:** `Value\
    \ 'breakout' not found in color_map`\n\n**Cause:** Column value doesn't match\
    \ any values in color\\_map arrays\n\n```python\n# Incorrect:\nevent_type = \"\
    breakout\"  # This value not in color_map\nany_event = src.c > upper\n\nevent_marker(\n\
    \    event_marker_schema=EventMarkerSchema(\n        title=\"Breakout Signals\"\
    ,\n        select_key=SLOT0,\n        icon=Signal,\n        schemas=[\n      \
    \      CardColumnSchema(\n                column_id=SLOT1,\n                slot=PrimaryBadge,\n\
    \                render_type=Badge,\n                color_map={\n           \
    \         Success: [\"upper_break\"],  # Expects \"upper_break\", not \"breakout\"\
    \n                    Error: [\"lower_break\"]\n                }\n          \
    \  )\n        ]\n    )\n)(any_event, event_type)\n\n# FIX - Option 1: Match the\
    \ value in color_map\nevent_type = \"upper_break\"  # Matches color_map value\n\
    event_marker(\n    event_marker_schema=EventMarkerSchema(\n        title=\"Breakout\
    \ Signals\",\n        select_key=SLOT0,\n        icon=Signal,\n        schemas=[\n\
    \            CardColumnSchema(\n                column_id=SLOT1,\n           \
    \     slot=PrimaryBadge,\n                render_type=Badge,\n               \
    \ color_map={\n                    Success: [\"upper_break\"],\n             \
    \       Error: [\"lower_break\"]\n                }\n            )\n        ]\n\
    \    )\n)(any_event, event_type)\n\n# FIX - Option 2: Update color_map to match\
    \ value\nevent_type = \"breakout\"\nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n\
    \        title=\"Breakout Signals\",\n        select_key=SLOT0,\n        icon=Signal,\n\
    \        schemas=[\n            CardColumnSchema(\n                column_id=SLOT1,\n\
    \                slot=PrimaryBadge,\n                render_type=Badge,\n    \
    \            color_map={\n                    Success: [\"breakout\"]  # Now matches\n\
    \                }\n            )\n        ]\n    )\n)(any_event, event_type)\n\
    ```\n\n---\n\n### event\\_marker: Non-Boolean Filter Input\n\n**Error:** `Expected\
    \ Boolean input for select_key, got Decimal`\n\n**Cause:** The select\\_key (filter\
    \ column) must be boolean\n\n```python\n# Incorrect:\nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n\
    \        title=\"Price Events\",\n        select_key=SLOT0,  # This slot receives\
    \ src.c (Decimal)\n        icon=Signal,\n        schemas=[\n            CardColumnSchema(\n\
    \                column_id=SLOT1,\n                slot=Hero,\n              \
    \  render_type=Decimal\n            )\n        ]\n    )\n)(src.c, src.c)  # SLOT0\
    \ is Decimal, not Boolean\n\n# FIX\nhigh_price_event = src.c > 100  # Boolean\
    \ condition\nevent_marker(\n    event_marker_schema=EventMarkerSchema(\n     \
    \   title=\"High Price Events\",\n        select_key=SLOT0,  # Now receives boolean\n\
    \        icon=Signal,\n        schemas=[\n            CardColumnSchema(\n    \
    \            column_id=SLOT1,\n                slot=Hero,\n                render_type=Decimal\n\
    \            )\n        ]\n    )\n)(high_price_event, src.c)  # SLOT0 is Boolean\
    \ filter\n```\n\n**See also:** [Research Reports](./concepts/research) - Gap Report\
    \ and Table Report documentation\n\n---\n\n## Quick Troubleshooting\n\n### Compilation\
    \ Errors\n\n| Symptom | Likely Cause | Fix |\n|---------|-------------|-----|\n\
    | `Variable 'x' already bound` | Reassignment | Use different variable name |\n\
    | `Undefined variable 'x'` | Used before definition | Move definition above usage\
    \ |\n| `Chained comparison` | `a < b < c` syntax | Break into `(a < b) and (b\
    \ < c)` |\n| `If statements not supported` | Control flow | Use ternary or `conditional_select`\
    \ |\n| `Unknown option 'x'` | Typo in option name | Check spelling |\n| `Missing\
    \ required option 'x'` | Required parameter missing | Add the option |\n\n###\
    \ Runtime Errors\n\n| Symptom | Likely Cause | Fix |\n|---------|-------------|-----|\n\
    | `incompatible_type_cast` | String + Number | Check types |\n| `Unknown handle\
    \ 'x'` | Wrong output name | Check transform outputs |\n| `invalid_lag_zero` |\
    \ Using `[0]` | Omit index |\n| `invalid_lag_float` | Using `[1.5]` | Use integer\
    \ |\n| `ambiguous_multi_output` | Multi-output in expression | Access specific\
    \ handle |\n| `Tuple unpacking count mismatch` | Wrong number of variables | Match\
    \ output count |\n\n### Strategy Errors\n\n| Symptom | Likely Cause | Fix |\n\
    |---------|-------------|-----|\n| `No trade_signal_executor` | Missing executor\
    \ | See [Design Guidelines](./design-guidelines.md#every-trading-strategy-must-have-exactly-one-executor)\
    \ |\n| `Multiple executors` | Two `trade_signal_executor` calls | See [Design\
    \ Guidelines](./design-guidelines.md#anti-pattern-multiple-executors) |\n| `Transform\
    \ requires a timeframe` | Data source or no-input transform | Add `timeframe=\"\
    1D\"` parameter |\n| `Invalid timeframe` | Wrong format | Use `\"1D\"`, `\"1H\"\
    `, `\"1W-MON\"`, etc. |\n| `Invalid session` | Wrong name | Use valid session\
    \ names |\n| `Unknown option 'symbols'` | Using non-existent parameter | Remove\
    \ `symbols=` - universe is configured externally |\n\n---\n\n## Debugging Steps\n\
    \n### 1. Read the Error Message\n\nError messages tell you:\n\n- **What** went\
    \ wrong\n- **Where** it occurred (line number)\n- **Why** it failed\n\n### 2.\
    \ Check Variable Names\n\n```python\nsrc = market_data_source(timeframe=\"1D\"\
    )\n\n# Common typos\nema_val = ema(period=20)(src.c)\nsignal = emv_val > 100 \
    \ # Typo: emv_val vs ema_val\n```\n\n### 3. Verify Transform Names and Options\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# Check spelling\n\
    rsi_val = rsi(period=14)(src.c)  # TRUE\nrsi_val2 = rsi(periood=14)(src.c)  #\
    \ FALSE Typo\n\n# Check required options\nema_val = ema()(src.c)  # FALSE Missing\
    \ period\nema_val2 = ema(period=20)(src.c)  # TRUE\n```\n\n### 4. Check Output\
    \ Handles\n\n```python\n# Wrong handle\nsrc = market_data_source(timeframe=\"\
    1D\")\nprice = src.result  # FALSE No 'result' handle\n\n# Correct handles\nprice\
    \ = src.c  # Close\nhigh = src.h   # High\n```\n\n### 5. Verify Input/Output Counts\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\")\nfast = ema(period=12)(src.c)\n\
    slow = ema(period=26)(src.c)\n\n# Crossover needs 2 inputs\ncross = crossover()(fast)\
    \  # FALSE Only 1 input\ncross2 = crossover()(fast, slow)  # TRUE\n\n# Bollinger\
    \ Bands returns 3 outputs\nlower, upper = bbands(period=20, stddev=2)(src.c) \
    \ # FALSE Only 2 variables\nlower2, middle2, upper2 = bbands(period=20, stddev=2)(src.c)\
    \  # TRUE\n```\n\n### 6. Check Data Types\n\n```python\n# Wrong type\nema_val\
    \ = ema(period=\"20\")(src.c)  # FALSE String\nema_val = ema(period=20)(src.c)\
    \    # Integer\n\n# Type compatibility\nlabel = \"PRICE\"\nresult = label + 100\
    \  # FALSE String + Number\n```\n\n---\n\n## Common Patterns for Fixes\n\n###\
    \ Pattern 1: Variable Reassignment\n\n```python\n# Problem\nx = src.c\nx = src.o\
    \  # ERROR\n\n# Solution\nclose = src.c\nopen = src.o\n```\n\n### Pattern 2: Chained\
    \ Comparison\n\n```python\n# Problem\nvalid = 30 < rsi < 70  # ERROR\n\n# Solution\n\
    valid = (rsi > 30) and (rsi < 70)\n```\n\n### Pattern 3: Multi-Output Access\n\
    \n```python\n# Problem\nbb = bbands(period=20, stddev=2)(src.c)\nsignal = bb >\
    \ 100  # ERROR\n\n# Solution 1: Specific handle\nsignal = bb.bbands_upper > 100\n\
    \n# Solution 2: Tuple unpacking\nlower, middle, upper = bbands(period=20, stddev=2)(src.c)\n\
    signal = upper > 100\n```\n\n### Pattern 4: Missing Executor\n\n**See:** [Design\
    \ Guidelines - Strategy Executor Requirements](./design-guidelines.md#strategy-executor-requirements)\n\
    \n### Pattern 5: Conditional Logic\n\n```python\n# Problem\nif condition:  # ERROR\n\
    \    x = 1\n\n# Solution 1: Ternary\nx = 1 if condition else 0\n\n# Solution 2:\
    \ Direct boolean\nx = condition  # If you just need True/False\n```\n\n---\n\n\
    ## Getting More Help\n\nIf error persists:\n\n1. **Check design guidelines**:\
    \ Review [Design Guidelines](./design-guidelines) for required patterns\n2. **Check\
    \ transform catalog**: Use the UI Transform Browser to verify transform name,\
    \ options, inputs, outputs\n3. **Simplify**: Remove parts until error disappears,\
    \ then add back\n4. **Test incrementally**: Build up strategy step-by-step\n\n\
    ---\n\n**Related Documentation:**\n\n- [Design Guidelines](./design-guidelines)\
    \ - Required design patterns and constraints\n- [Language Fundamentals](./language)\
    \ - Syntax and types\n- [Core Concepts](./concepts) - Timeframes, sessions, cross-sectional,\
    \ data sources\n"
  filename: public_documentation/epochscript/error-reference.md
- content: '---


    title: EpochScript Documentation

    page\_type: overview

    layout: grid

    order: 1

    category: Core Documentation

    description: EpochScript is a declarative language for quantitative trading strategies
    and market research

    ----------------------------------------------------------------------------------------------------------


    # EpochScript Documentation


    EpochScript is a declarative, Python-like language designed for institutional
    traders to build quantitative trading strategies and conduct market research.
    It provides 280+ transforms including technical indicators, statistical functions,
    market microstructure tools, and interactive visualization.


    **Key features**: Declarative syntax, 280+ transforms, multi-timeframe analysis,
    automatic visualization, and comprehensive error checking.


    Choose a topic below to get started:

    '
  filename: public_documentation/epochscript/index.md
- content: '---


    title: Language Fundamentals

    page\_type: overview

    layout: grid

    order: 2

    category: Language

    description: Complete language reference for EpochScript syntax, types, operators,
    and limitations

    parent: ../index.md

    -------------------


    # Language Fundamentals


    Complete language reference for EpochScript syntax, types, operators, and critical
    limitations.


    ## Quick Start


    Here''s a simple moving average crossover strategy to get you started:


    ```python

    # Get market data

    src = market_data_source(timeframe="1D")


    # Calculate indicators

    fast = ema(period=20)(src.c)

    slow = ema(period=50)(src.c)


    # Generate signals

    buy = crossover(fast, slow)

    sell = crossover(slow, fast)


    # Execute trades

    trade_signal_executor()(enter_long=buy, enter_short=sell)

    ```


    **Key concepts**:


    - `market_data_source(timeframe="1D")` - Access price data (c=close, h=high, l=low,
    v=volume)

    - `ema(period=20)` - Transform constructor (sets parameters)

    - `(src.c)` - Transform application (applies to data)

    - `crossover()` - Detects when first series crosses above second

    - `trade_signal_executor()` - Required for all trading strategies


    Choose a topic below for detailed information:

    '
  filename: public_documentation/epochscript/language/index.md
- content: "---\n\ntitle: Limitations\npage\\_type: concept\nlayout: default\norder:\
    \ 6\ncategory: Language\ndescription: Python features not supported and critical\
    \ design constraints in EpochScript\nparent: ./index.md\n------------------\n\n\
    # Limitations\n\nEpochScript looks like Python but has strict constraints for\
    \ vectorized time-series processing. Understanding these limitations is critical.\n\
    \n---\n\n## Not Python\n\nEpochScript is **declarative**, not imperative. You\
    \ describe *what* you want, not *how* to compute it.\n\n---\n\n## No Control Flow\n\
    \n`if`/`elif`/`else` statements are not allowed.\n\n**Reason:** Operations must\
    \ work vectorized across all time points simultaneously.\n\n**Use instead:**\n\
    \n```python\nsrc = market_data_source(timeframe=\"1D\")\nprice = src.c\nrsi_val\
    \ = rsi(period=14)(src.c)\n\n# Boolean expression\nsignal = price > 100\n\n# Ternary\
    \ operator\nsignal_ternary = True if price > 100 else False\n\n# conditional_select\
    \ for multi-way branching\nregime = conditional_select(\n    rsi_val < 30, \"\
    oversold\",\n    rsi_val > 70, \"overbought\",\n    \"neutral\"\n)\n```\n\n---\n\
    \n## No Loops\n\n`for` and `while` loops are not allowed.\n\n**Reason:** Transforms\
    \ operate on entire series vectorized.\n\n**Use instead:**\n\n```python\nsrc =\
    \ market_data_source(timeframe=\"1D\")\nclose = src.c\nmomentum = rsi(period=14)(close)\n\
    \n# Transforms work on entire series automatically\nema_series = ema(period=20)(close)\
    \  # Applies to all time points\n\n# Cross-sectional operations\ntop_stocks =\
    \ top_k(k=10)(momentum)  # Selects top 10 across universe\n```\n\n---\n\n## No\
    \ Variable Reassignment\n\nVariables are **immutable** - single assignment only.\n\
    \n**Reason:** Prevents temporal logic bugs and enables parallel evaluation.\n\n\
    **Valid Example:**\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n\
    # Valid - distinct names\nclose_price = src.c\nopen_price = src.o\n```\n\n**Invalid\
    \ Example:**\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# NOT\
    \ ALLOWED\nprice = src.c\nprice = src.o  # ERROR: Variable 'price' already bound\n\
    ```\n\n---\n\n## No Function Definitions\n\n`def` keyword is not allowed. Cannot\
    \ define custom functions.\n\n**Reason:** All transforms must be registered in\
    \ the system for metadata and visualization.\n\n---\n\n## No Class Definitions\n\
    \n`class` keyword is not allowed.\n\n**Reason:** EpochScript is a pure functional\
    \ language for time-series operations.\n\n---\n\n## No Exception Handling\n\n\
    `try`/`except` blocks are not allowed.\n\n**Reason:** All errors are compile-time\
    \ errors, not runtime exceptions.\n\n---\n\n## No Chained Comparisons\n\nPython's\
    \ `a < b < c` syntax is not supported.\n\n**Invalid Example:**\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\nrsi_val = rsi(period=14)(src.c)\n\n\
    # NOT ALLOWED\nvalid = 30 < rsi_val < 70\n```\n\n**Valid Example:**\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\nrsi_val = rsi(period=14)(src.c)\n\n\
    # Use instead\nabove_30 = rsi_val > 30\nbelow_70 = rsi_val < 70\nvalid = above_30\
    \ and below_70\n\n# Or inline\nvalid_inline = (rsi_val > 30) and (rsi_val < 70)\n\
    ```\n\n---\n\n## No Negative Indexing\n\nPython's `list[-1]` for last element\
    \ is not supported.\n\n**Invalid Example:**\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# NOT ALLOWED\nyesterday = src.c[-1]\n```\n\n**Valid Example:**\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\n\n# Use instead\nyesterday = src.c[1]\
    \  # 1 bar ago\nlast_week = src.c[5]  # 5 bars ago\n```\n\n---\n\n## No Zero Indexing\n\
    \nUsing `[0]` is redundant and not allowed.\n\n**Invalid Example:**\n\n```python\n\
    src = market_data_source(timeframe=\"1D\")\n\n# NOT ALLOWED\ncurrent = src.c[0]\n\
    ```\n\n**Valid Example:**\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\n\n# Use instead\ncurrent = src.c\n```\n\n---\n\n## Summary Table\n\n| Python\
    \ Feature | Supported? | Alternative |\n|----------------|------------|-------------|\n\
    | `if`/`else` | No | Ternary, `conditional_select()` |\n| `for`/`while` | No |\
    \ Vectorized transforms |\n| Variable reassignment | No | Use distinct names |\n\
    | `def` functions | No | Use built-in transforms |\n| `class` | No | N/A |\n|\
    \ `try`/`except` | No | Compile-time error checking |\n| Chained comparisons |\
    \ No | Explicit `and`/`or` |\n| Negative indexing | No | Positive lag only `[N]`\
    \ |\n| Zero indexing | No | Omit index |\n\n---\n\n## Why These Limitations?\n\
    \nThese constraints enable:\n\n1. **Vectorized execution** - Operations across\
    \ entire time series\n2. **Compile-time safety** - Catch errors before execution\n\
    3. **Automatic visualization** - System knows about all operations\n4. **Parallel\
    \ evaluation** - No temporal dependencies from mutation\n5. **Type safety** -\
    \ Strong type checking without runtime overhead\n\nThe limitations aren't arbitrary\
    \ - they're essential for EpochScript's design goals of safe, fast, visualizable\
    \ time-series operations.\n\n---\n\n## See Also\n\n- [Design Guidelines](../design-guidelines)\
    \ - Required patterns and common mistakes\n- [Error Reference](../error-reference)\
    \ - Specific error messages and fixes\n"
  filename: public_documentation/epochscript/language/limitations.md
- content: '---


    title: Operators

    page\_type: concept

    layout: default

    order: 5

    category: Language

    description: Arithmetic, comparison, logical, and lag operators in EpochScript

    parent: ./index.md

    ------------------


    # Operators


    Complete reference for all operators in EpochScript including arithmetic, comparison,
    logical, and the lag operator.


    ---


    ## Arithmetic Operators


    | Operator | Description | Example |

    |----------|-------------|---------|

    | `+` | Addition | `a + b` |

    | `-` | Subtraction | `a - b` |

    | `*` | Multiplication | `a * b` |

    | `/` | Division | `a / b` |

    | `%` | Modulo (remainder) | `a % b` |

    | `**` | Power (exponentiation) | `a ** b` |

    | `-` (unary) | Negation | `-a` |


    **Example:**


    ```python

    src = market_data_source(timeframe="1D")

    range_val = src.h - src.l

    midpoint = (src.h + src.l) / 2

    momentum = src.c - src.c[5]


    # Modulo - useful for detecting periodic patterns

    even_bars = (src.c % 2) == 0


    # Power - useful for calculating squared returns or variance

    squared_returns = (src.c / src.c[1] - 1) ** 2

    ```


    ---


    ## Comparison Operators


    | Operator | Description | Example |

    |----------|-------------|---------|

    | `>` | Greater than | `a > b` |

    | `<` | Less than | `a < b` |

    | `>=` | Greater or equal | `a >= b` |

    | `<=` | Less or equal | `a <= b` |

    | `==` | Equal to | `a == b` |

    | `!=` | Not equal to | `a != b` |


    **Example:**


    ```python

    src = market_data_source(timeframe="1D")

    rsi_val = rsi(period=14)(src.c)

    price = src.c

    bb = bbands(period=20, stddev=2)(src.c)

    upper_band = bb.bbands_upper


    above_20 = rsi_val > 20

    below_80 = rsi_val < 80

    at_threshold = price == 100.0

    breakout = src.c > upper_band

    ```


    ---


    ## Logical Operators


    EpochScript supports both keyword and symbol forms for logical operators:


    | Keyword | Symbol | Description | Example |

    |---------|--------|-------------|---------|

    | `and` | `&` | Logical AND | `a and b` or `a & b` |

    | `or` | `\|` | Logical OR | `a or b` or `a \| b` |

    | `not` | `!` | Logical NOT | `not a` or `!a` |


    Both forms are equivalent and can be used interchangeably. Use whichever style
    you prefer, but be consistent within a file.


    **Example:**


    ```python

    # Keyword form

    strong_buy = (rsi < 30) and (volume_spike)

    exit_signal = stop_loss or take_profit

    not_oversold = not (rsi < 30)


    # Symbol form (equivalent)

    strong_buy = (rsi < 30) & (volume_spike)

    exit_signal = stop_loss | take_profit

    not_oversold = !(rsi < 30)


    # Can be mixed (though not recommended for readability)

    mixed = (rsi < 30) and volume_spike | !(rsi > 70)

    ```


    ---


    ## Ternary Operator


    Conditional expression for value selection:


    ```python

    result = value_if_true if condition else value_if_false

    ```


    **Example:**


    ```python

    src = market_data_source(timeframe="1D")

    fast = ema(period=12)(src.c)

    slow = ema(period=26)(src.c)

    rsi = rsi(period=14)(src.c)

    high_confidence = rsi > 70


    direction = "UP" if fast > slow else "DOWN"

    size = 2.0 if high_confidence else 1.0

    label = "OVERSOLD" if rsi < 30 else ("OVERBOUGHT" if rsi > 70 else "NEUTRAL")

    ```


    ---


    ## Lag Operator


    Access historical values using `[N]` where N is bars ago:


    ```python

    value[N]  # Value from N bars ago

    ```


    **Example:**


    ```python

    yesterday = src.c[1]      # 1 bar ago

    last_week = src.c[5]      # 5 bars ago

    momentum = src.c - src.c[10]  # Current vs 10 bars ago

    ```


    **Rules:**


    - **Must be positive integer**: `src.c[1]` is valid

    - **No zero lag**: `src.c[0]` is redundant (just use `src.c`)

    - **No negative lag**: `src.c[-1]` is not supported (future values)

    - **No decimal lag**: `src.c[1.5]` is invalid


    ---


    ## Attribute Access


    Access outputs from transforms or data sources:


    ```python

    object.attribute

    ```


    **Example:**


    ```python

    # Data source outputs

    src = market_data_source(timeframe="1D")

    close = src.c

    high = src.h

    low = src.l

    volume = src.v


    # Multi-output transform

    bb = bbands(period=20, stddev=2)(close)

    upper = bb.bbands_upper

    lower = bb.bbands_lower

    middle = bb.bbands_middle

    ```


    ---


    ## Operator Precedence


    From highest to lowest priority:


    1. **Attribute access**: `.`

    2. **Function call**: `()`

    3. **Unary**: `-`, `not`

    4. **Multiplicative**: `*`, `/`

    5. **Additive**: `+`, `-`

    6. **Comparison**: `>`, `<`, `>=`, `<=`, `==`, `!=`

    7. **Logical AND**: `and`

    8. **Logical OR**: `or`

    9. **Ternary**: `if ... else`


    **Example:**


    ```python

    # Explicit precedence with parentheses (recommended)

    result = (fast - slow) > (atr * 2)


    # Without parentheses (relies on precedence rules)

    result = fast - slow > atr * 2  # Same as above, but less clear

    ```


    ---


    ## Summary


    **Key operators:**


    - Arithmetic: `+`, `-`, `*`, `/`, `-` (unary)

    - Comparison: `>`, `<`, `>=`, `<=`, `==`, `!=`

    - Logical: `and`, `or`, `not`

    - Ternary: `value1 if condition else value2`

    - Lag: `[N]` (historical lookback)

    - Attribute: `.` (access transform outputs)

    '
  filename: public_documentation/epochscript/language/operators.md
- content: "---\n\ntitle: Syntax\npage\\_type: concept\nlayout: default\norder: 3\n\
    category: Language\ndescription: EpochScript statements, expressions, variables,\
    \ and assignment rules\nparent: ./index.md\n------------------\n\n# Syntax\n\n\
    EpochScript syntax fundamentals including statements, expressions, and variable\
    \ assignment.\n\n---\n\n## Statements\n\nEpoch script supports two statement types:\n\
    \n### Assignment Statement\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nvariable = src.c\n```\n\n**Rules:**\n\n- Variables must start with letter\
    \ or underscore: `ema_20`, `_temp`, `Signal`\n- Can contain letters, numbers,\
    \ underscores: `fast_ema_12`, `rsi_14`\n- Case-sensitive: `Price` \u2260 `price`\n\
    - **Single assignment only** - reassignment is prohibited\n\n**Example:**\n\n\
    ```python\nsrc = market_data_source(timeframe=\"1D\")\n\n# Valid\nclose = src.c\n\
    fast_ma = ema(period=20)(close)\nis_bullish = close > close[1]\n```\n\n### Expression\
    \ Statement\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\nbuy_signal\
    \ = src.c > src.c[1]\ntrade_signal_executor()(enter_long=buy_signal)\n```\n\n\
    **Rules:**\n\n- Only allowed for transforms with **no outputs** (sink nodes)\n\
    - Must be a function call, not a bare variable\n- Any transform that produces\
    \ no output values can be used this way\n\n**Common sink categories:**\n\n- **Executors**:\
    \ `trade_signal_executor`, `portfolio_rebalancer`\n- **Reports**: `gap_report`,\
    \ `table_report`, `lines_chart`\n- **Event Markers**: `event_marker`, `card_selector`\n\
    \n**Examples:**\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\n\n#\
    \ Define variables used in statements\nbuy_signal = crossover(ema(period=12)(src.c),\
    \ ema(period=26)(src.c))\nanalysis_df = src.c\nsignal_time = src.psc_timestamp\n\
    \n# Valid expression statements (all have no outputs)\ntrade_signal_executor()(enter_long=buy_signal)\n\
    # Note: gap_report and event_marker require complex schema parameters\n# gap_report(card_schema=\"\
    ...\")(data=analysis_df)\n# event_marker(event_marker_schema=EventMarkerSchema(...))(signal_data)\n\
    ```\n\n---\n\n## Expressions\n\nExpressions produce values and can be used anywhere\
    \ a value is expected.\n\n### Valid Expression Contexts\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nclose = src.c\nfast_ma = ema(period=12)(close)\nslow_ma = ema(period=26)(close)\n\
    atr_value = atr(period=14)(src.h, src.l, src.c)\n\n# 1. Right-hand side of assignment\n\
    result = 2 + 2\n\n# 2. Function arguments\nadjusted_ema = ema(period=20)(close\
    \ + 10)\n\n# 3. Nested expressions\nresult2 = (fast_ma - slow_ma) / atr_value\n\
    ```\n\n### Expression Types\n\n- **Literals**: `42`, `3.14`, `\"BULLISH\"`, `True`\n\
    - **Variables**: `close`, `rsi_val`, `my_signal`\n- **Binary operations**: `a\
    \ + b`, `x > y`, `p and q`\n- **Unary operations**: `-x`, `not signal`\n- **Function\
    \ calls**: `ema(period=20)(close)`\n- **Attribute access**: `src.c`, `bb.bbands_upper`\n\
    - **Lag operator**: `close[1]`, `price[5]`\n- **Ternary**: `\"BUY\" if rsi < 30\
    \ else \"SELL\"`\n\n---\n\n## Comments\n\n```python\n# Single-line comments start\
    \ with #\nsrc = market_data_source(timeframe=\"1D\")\n\nclose = src.c  # Inline\
    \ comments also work\n```\n\n---\n\n## Variable Naming\n\n### Valid Names\n\n\
    ```python\nsrc = market_data_source(timeframe=\"1D\")\nclose = src.c\nfast = ema(period=12)(close)\n\
    slow = ema(period=26)(close)\n\nema_20 = ema(period=20)(close)\nfastMA = ema(period=12)(close)\n\
    _temp = close - close[1]\nSignal = fast > slow\nRSI_14 = rsi(period=14)(close)\n\
    ```\n\n---\n\n## Summary\n\n**Key principles:**\n\n- Two statement types: assignment\
    \ and expression statements\n- Variables are immutable (single assignment)\n-\
    \ Expressions can be nested and composed\n- Only transforms with no outputs can\
    \ be standalone statements\n"
  filename: public_documentation/epochscript/language/syntax.md
- content: "---\n\ntitle: Types & Literals\npage\\_type: concept\nlayout: default\n\
    order: 4\ncategory: Language\ndescription: Data types, literals, type system,\
    \ and type compatibility in EpochScript\nparent: ./index.md\n------------------\n\
    \n# Types & Literals\n\nEpochScript's type system including built-in types, literals,\
    \ and type compatibility rules.\n\n---\n\n## Data Types\n\n| Type | Description\
    \ | Examples |\n|------|-------------|----------|\n| `Boolean` | True/False |\
    \ `True`, `False` |\n| `Integer` | Whole numbers | `42`, `-5`, `0`, `1000` |\n\
    | `Decimal` | Floating-point | `3.14`, `0.5`, `-1.23`, `1.5e-3` |\n| `Number`\
    \ | Integer or Decimal | Any numeric value |\n| `String` | Text | `\"BULLISH\"\
    `, `'AAPL'` |\n| `Timestamp` | Date/time | Implicit from data source |\n| `Any`\
    \ | Generic type | Used for flexible inputs |\n\n---\n\n## Type Compatibility\n\
    \n### Numbers Mix Freely\n\n```python\nint_val = 10\ndec_val = 3.14\nresult =\
    \ int_val + dec_val  # 13.14 (Decimal)\n```\n\n### Boolean \u2194 Number Casting\n\
    \n```python\n# Boolean \u2192 Number (automatic)\nis_up = True\nscore = is_up\
    \ + 10  # 11 (True = 1)\n\n# Number \u2192 Boolean (automatic)\nvolume = 1000\n\
    has_volume = volume and True  # True (non-zero = True)\n```\n\n### Strings Are\
    \ Isolated\n\nStrings can only be used for labels and conditional selection.\n\
    \n**Valid uses:**\n\n```python\nsrc = market_data_source(timeframe=\"1D\")\nfast\
    \ = ema(period=12)(src.c)\nslow = ema(period=26)(src.c)\nbullish = fast > slow\n\
    rsi = rsi(period=14)(src.c)\n\ndirection = \"UP\" if bullish else \"DOWN\"\nlabel\
    \ = conditional_select(rsi < 30, \"OVERSOLD\", rsi > 70, \"OVERBOUGHT\", \"NEUTRAL\"\
    )\n```\n\n---\n\n## Literals\n\n### Number Literals\n\n```python\n# Integers\n\
    count = 42\nlookback = 20\nnegative = -10\n\n# Decimals\nratio = 3.14\nthreshold\
    \ = 0.618\nscientific = 1.5e-3  # 0.0015\n```\n\n### Boolean Literals\n\n```python\n\
    enabled = True\ndisabled = False\n```\n\n### String Literals\n\n```python\n# Single\
    \ or double quotes\nlabel = \"BULLISH\"\nsymbol = 'AAPL'\n\n# Triple-quoted (for\
    \ JSON configs)\nconfig = \"\"\"\n{\n    \"strategy\": \"momentum\",\n    \"version\"\
    : \"1.0\"\n}\n\"\"\"\n```\n\n### None Literal\n\n```python\nno_value = None\n\
    fallback = signal if condition else None\n```\n\n### List Literals\n\nUsed in\
    \ certain transform parameters:\n\n```python\ncolors = [0xFF0000, 0x00FF00, 0x0000FF]\n\
    labels = [\"Buy\", \"Sell\", \"Hold\"]\n```\n\n---\n\n## Type System\n\n### Automatic\
    \ Type Inference\n\nTypes are inferred automatically:\n\n```python\nsrc = market_data_source(timeframe=\"\
    1D\")\nprice = src.c          # Inferred: Decimal series\nfast = ema(period=20)(price)\
    \  # Inferred: Decimal series\nslow = ema(period=50)(price)\nsignal = fast > slow\
    \   # Inferred: Boolean series\n```\n\n### Type Checking\n\nThe compiler validates\
    \ type compatibility:\n\n```python\n# Type safe\nratio = fast / slow    # Decimal\
    \ / Decimal \u2192 Decimal\ncondition = fast > slow  # Decimal > Decimal \u2192\
    \ Boolean\n\n# Will NOT compile - type mismatch\ntext = \"PRICE\"\nresult = text\
    \ + 10     # ERROR: String + Number incompatible\n```\n\n---\n\n## Parameter Type\
    \ Validation\n\nWhen passing options (parameters) to transforms, the type must\
    \ match exactly what the transform expects.\n\n### Transform Option Types\n\n\
    Each transform option has a specific type requirement:\n\n```python\n# Integer\
    \ option - must be whole number\nema_result = ema(period=20)(src.c)  # \u2705\
    \ Correct\n\n# ERROR: String passed to Integer option\nema_result = ema(period=\"\
    20\")(src.c)  # \u274C Type mismatch\n```\n\n### Common Option Types\n\n| Option\
    \ Type | Valid Values | Invalid Values |\n|-------------|--------------|----------------|\n\
    | **Integer** | `20`, `-5`, `0`, `100` | `\"20\"`, `20.5`, `True` |\n| **Decimal**\
    \ | `0.5`, `3.14`, `1.5e-3` | `\"0.5\"`, `True` |\n| **Boolean** | `True`, `False`\
    \ | `1`, `0`, `\"true\"` |\n| **String** | `\"AAPL\"`, `\"1D\"`, `\"London\"`\
    \ | `AAPL` (no quotes), numbers |\n\n### Type Mismatch Examples\n\n```python\n\
    # ERROR: String where Integer expected\nrsi_val = rsi(period=\"14\")(src.c)\n\n\
    # ERROR: Decimal where Integer expected\nma = sma(period=20.5)(src.c)\n\n# ERROR:\
    \ Boolean where String expected\nsrc = market_data_source(timeframe=True)\n```\n\
    \n### Boolean Operation Type Casting\n\nEpochScript automatically casts between\
    \ booleans and numbers in some contexts:\n\n```python\n# Boolean \u2192 Number\
    \ (automatic)\nis_up = True\nscore = is_up + 10  # \u2705 11 (True = 1, False\
    \ = 0)\n\n# Number \u2192 Boolean (automatic in logical context)\nvolume = 1000\n\
    has_volume = volume and True  # \u2705 True (non-zero = True)\n```\n\nHowever,\
    \ boolean operations expect boolean inputs:\n\n```python\n# \u2705 Correct: Boolean\
    \ operands\ncondition = (price > 100) and (volume > 1000)\n\n# \u26A0\uFE0F Auto-cast:\
    \ Non-zero numbers treated as True\nresult = 5 and 10  # Works, but unclear\n\n\
    # \u274C ERROR: String in boolean operation\nresult = \"text\" and True  # Type\
    \ error\n```\n\n---\n\n## Summary\n\n**Key points:**\n\n- Seven built-in types\
    \ (Boolean, Integer, Decimal, Number, String, Timestamp, Any)\n- Automatic type\
    \ inference from expressions\n- Numbers mix freely, booleans cast to/from numbers\n\
    - Strings isolated (labels only)\n- Type checking at compile time\n"
  filename: public_documentation/epochscript/language/types.md
- content: '---


    title: Overview

    description: Introduction to Epoch''s quantitative trading platform

    icon: Home

    ----------


    ## Introduction


    Epoch is a quantitative trading platform that combines natural language interaction
    with compiled C++ execution. Designed for institutional traders who need realistic
    backtesting, deep research capabilities, and predictable performance.


    Epoch has different parts:


    ## Platform Workflow

    '
  filename: public_documentation/index.md
- content: '---


    title: Research & Backtesting

    description: AI-powered exploration and strategy validation through natural language

    icon: GitBranch

    ---------------


    # Research & Backtesting


    Ask questions or describe strategies - Epoch handles the execution and returns
    results.


    ## Research Studies


    **Objective:** Explore and understand market behavior


    Investigate patterns, test hypotheses, and gain insights.


    **Example queries:**


    - "Show me where order blocks form in EURUSD"

    - "Analyze correlation between VIX and SPY during drawdowns"

    - "Find sessions where gaps fill most reliably"

    - "Study momentum persistence across tech stocks"


    ## Strategy Execution


    **Objective:** Validate systematic trading strategies


    Test how trading rules would have performed historically.


    **Example queries:**


    - "Backtest RSI(2) mean reversion on SPY 2020-2023"

    - "Test momentum crossover on AAPL with 20-day rebalancing"

    - "Simulate dual moving average strategy on EURUSD intraday"

    - "Backtest equal-weight rotation across tech stocks"


    ## Learn More

    '
  filename: public_documentation/research-and-backtesting.md
id: 685a8109-a36a-439f-b6c8-adb1de6cc3d3
name: Epoch
website: https://epoch.trade
